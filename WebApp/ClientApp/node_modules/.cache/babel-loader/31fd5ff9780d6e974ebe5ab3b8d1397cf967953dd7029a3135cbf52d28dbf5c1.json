{"ast":null,"code":"import React,{useMemo}from'react';import'./HealthScore.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function clamp(n,min,max){return Math.max(min,Math.min(max,n));}function HealthScore(_ref){let{statistics}=_ref;const{score,label,color}=useMemo(()=>{if(!(statistics!==null&&statistics!==void 0&&statistics.by_severity))return{score:100,label:'Excellent',color:'var(--health-excellent)'};const s=statistics.by_severity;const total=(s.critical||0)+(s.error||0)+(s.warning||0)+(s.information||0);if(total===0)return{score:100,label:'Excellent',color:'var(--health-excellent)'};const penalty=(s.critical||0)*40+(s.error||0)*25+(s.warning||0)*10;const raw=100-penalty/Math.max(total,1);const score=clamp(Math.round(raw),0,100);if(score>=90)return{score,label:'Excellent',color:'var(--health-excellent)'};if(score>=75)return{score,label:'Good',color:'var(--health-good)'};if(score>=60)return{score,label:'Fair',color:'var(--health-fair)'};return{score,label:'Poor',color:'var(--health-poor)'};},[statistics]);const gradient=\"conic-gradient(\".concat(color,\" \").concat(score*3.6,\"deg, #e2e8f0 0deg)\");return/*#__PURE__*/_jsxs(\"div\",{className:\"health-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"health-gauge\",style:{background:gradient},children:/*#__PURE__*/_jsxs(\"div\",{className:\"health-gauge-inner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"health-score\",children:score}),/*#__PURE__*/_jsx(\"div\",{className:\"health-label\",children:label})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"health-meta\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"health-title\",children:\"Experience Health\"}),/*#__PURE__*/_jsx(\"div\",{className:\"health-sub\",children:\"Aggregated across severities\"})]})]});}export default HealthScore;","map":{"version":3,"names":["React","useMemo","jsx","_jsx","jsxs","_jsxs","clamp","n","min","max","Math","HealthScore","_ref","statistics","score","label","color","by_severity","s","total","critical","error","warning","information","penalty","raw","round","gradient","concat","className","children","style","background"],"sources":["C:/Work/UserSystemLogAnalyzer/WebApp/ClientApp/src/components/HealthScore.js"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport './HealthScore.css';\r\n\r\nfunction clamp(n, min, max) { return Math.max(min, Math.min(max, n)); }\r\n\r\nfunction HealthScore({ statistics }) {\r\n  const { score, label, color } = useMemo(() => {\r\n    if (!statistics?.by_severity) return { score: 100, label: 'Excellent', color: 'var(--health-excellent)' };\r\n    const s = statistics.by_severity;\r\n    const total = (s.critical || 0) + (s.error || 0) + (s.warning || 0) + (s.information || 0);\r\n    if (total === 0) return { score: 100, label: 'Excellent', color: 'var(--health-excellent)' };\r\n\r\n    const penalty = (s.critical || 0) * 40 + (s.error || 0) * 25 + (s.warning || 0) * 10;\r\n    const raw = 100 - (penalty / Math.max(total, 1));\r\n    const score = clamp(Math.round(raw), 0, 100);\r\n\r\n    if (score >= 90) return { score, label: 'Excellent', color: 'var(--health-excellent)' };\r\n    if (score >= 75) return { score, label: 'Good', color: 'var(--health-good)' };\r\n    if (score >= 60) return { score, label: 'Fair', color: 'var(--health-fair)' };\r\n    return { score, label: 'Poor', color: 'var(--health-poor)' };\r\n  }, [statistics]);\r\n\r\n  const gradient = `conic-gradient(${color} ${score * 3.6}deg, #e2e8f0 0deg)`;\r\n\r\n  return (\r\n    <div className=\"health-card\">\r\n      <div className=\"health-gauge\" style={{ background: gradient }}>\r\n        <div className=\"health-gauge-inner\">\r\n          <div className=\"health-score\">{score}</div>\r\n          <div className=\"health-label\">{label}</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"health-meta\">\r\n        <div className=\"health-title\">Experience Health</div>\r\n        <div className=\"health-sub\">Aggregated across severities</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HealthScore;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,OAAO,KAAQ,OAAO,CACtC,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,QAAS,CAAAC,KAAKA,CAACC,CAAC,CAAEC,GAAG,CAAEC,GAAG,CAAE,CAAE,MAAO,CAAAC,IAAI,CAACD,GAAG,CAACD,GAAG,CAAEE,IAAI,CAACF,GAAG,CAACC,GAAG,CAAEF,CAAC,CAAC,CAAC,CAAE,CAEtE,QAAS,CAAAI,WAAWA,CAAAC,IAAA,CAAiB,IAAhB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CACjC,KAAM,CAAEE,KAAK,CAAEC,KAAK,CAAEC,KAAM,CAAC,CAAGf,OAAO,CAAC,IAAM,CAC5C,GAAI,EAACY,UAAU,SAAVA,UAAU,WAAVA,UAAU,CAAEI,WAAW,EAAE,MAAO,CAAEH,KAAK,CAAE,GAAG,CAAEC,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,yBAA0B,CAAC,CACzG,KAAM,CAAAE,CAAC,CAAGL,UAAU,CAACI,WAAW,CAChC,KAAM,CAAAE,KAAK,CAAG,CAACD,CAAC,CAACE,QAAQ,EAAI,CAAC,GAAKF,CAAC,CAACG,KAAK,EAAI,CAAC,CAAC,EAAIH,CAAC,CAACI,OAAO,EAAI,CAAC,CAAC,EAAIJ,CAAC,CAACK,WAAW,EAAI,CAAC,CAAC,CAC1F,GAAIJ,KAAK,GAAK,CAAC,CAAE,MAAO,CAAEL,KAAK,CAAE,GAAG,CAAEC,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,yBAA0B,CAAC,CAE5F,KAAM,CAAAQ,OAAO,CAAG,CAACN,CAAC,CAACE,QAAQ,EAAI,CAAC,EAAI,EAAE,CAAG,CAACF,CAAC,CAACG,KAAK,EAAI,CAAC,EAAI,EAAE,CAAG,CAACH,CAAC,CAACI,OAAO,EAAI,CAAC,EAAI,EAAE,CACpF,KAAM,CAAAG,GAAG,CAAG,GAAG,CAAID,OAAO,CAAGd,IAAI,CAACD,GAAG,CAACU,KAAK,CAAE,CAAC,CAAE,CAChD,KAAM,CAAAL,KAAK,CAAGR,KAAK,CAACI,IAAI,CAACgB,KAAK,CAACD,GAAG,CAAC,CAAE,CAAC,CAAE,GAAG,CAAC,CAE5C,GAAIX,KAAK,EAAI,EAAE,CAAE,MAAO,CAAEA,KAAK,CAAEC,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,yBAA0B,CAAC,CACvF,GAAIF,KAAK,EAAI,EAAE,CAAE,MAAO,CAAEA,KAAK,CAAEC,KAAK,CAAE,MAAM,CAAEC,KAAK,CAAE,oBAAqB,CAAC,CAC7E,GAAIF,KAAK,EAAI,EAAE,CAAE,MAAO,CAAEA,KAAK,CAAEC,KAAK,CAAE,MAAM,CAAEC,KAAK,CAAE,oBAAqB,CAAC,CAC7E,MAAO,CAAEF,KAAK,CAAEC,KAAK,CAAE,MAAM,CAAEC,KAAK,CAAE,oBAAqB,CAAC,CAC9D,CAAC,CAAE,CAACH,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAc,QAAQ,mBAAAC,MAAA,CAAqBZ,KAAK,MAAAY,MAAA,CAAId,KAAK,CAAG,GAAG,sBAAoB,CAE3E,mBACET,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B3B,IAAA,QAAK0B,SAAS,CAAC,cAAc,CAACE,KAAK,CAAE,CAAEC,UAAU,CAAEL,QAAS,CAAE,CAAAG,QAAA,cAC5DzB,KAAA,QAAKwB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC3B,IAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEhB,KAAK,CAAM,CAAC,cAC3CX,IAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEf,KAAK,CAAM,CAAC,EACxC,CAAC,CACH,CAAC,cACNV,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B3B,IAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,mBAAiB,CAAK,CAAC,cACrD3B,IAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,8BAA4B,CAAK,CAAC,EAC3D,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAnB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}