{"ast":null,"code":"import _objectSpread from\"C:/Work/UserSystemLogAnalyzer/WebApp/ClientApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo,useState,useEffect}from'react';import'./Alerts.css';import DataTable from'./DataTable';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Alerts(_ref){let{issues,sessions}=_ref;const[tab,setTab]=useState('all');const[deviceFilter,setDeviceFilter]=useState('all');const[dateFrom,setDateFrom]=useState('');const[dateTo,setDateTo]=useState('');const[sortBy,setSortBy]=useState('occurrences');// occurrences, severity, category\nconst[sortOrder,setSortOrder]=useState('desc');const[searchQuery,setSearchQuery]=useState('');const[currentPage,setCurrentPage]=useState(1);const[selectedIssue,setSelectedIssue]=useState(null);const[drawerImpactSearch,setDrawerImpactSearch]=useState('');const[selectedSolutionIndex,setSelectedSolutionIndex]=useState(0);const itemsPerPage=20;// Get unique devices from sessions\nconst devices=useMemo(()=>{const deviceSet=new Set();((sessions===null||sessions===void 0?void 0:sessions.sessions)||[]).forEach(s=>deviceSet.add(s.systemName));return Array.from(deviceSet).sort();},[sessions]);// Get severity counts\nconst severityCounts=useMemo(()=>{return(issues||[]).reduce((acc,issue)=>{acc[issue.severity]=(acc[issue.severity]||0)+1;return acc;},{Critical:0,Error:0,Warning:0,Information:0});},[issues]);const issuesWithImpacts=useMemo(()=>{return(issues||[]).map(issue=>{const userImpact=Array.isArray(issue.affectedUsers)?issue.affectedUsers.length:issue.userCount||0;const deviceImpact=Array.isArray(issue.affectedSystems)?issue.affectedSystems.length:issue.affectedSystems?issue.affectedSystems.length:0;// derive earliest/latest timestamps for filtering\nconst timestamps=(issue.samples||[]).map(s=>new Date(s.timestamp)).filter(d=>!isNaN(d));const firstSeenDate=timestamps.length?new Date(Math.min(...timestamps)):null;const lastSeenDate=timestamps.length?new Date(Math.max(...timestamps)):null;return _objectSpread(_objectSpread({},issue),{},{userImpact,deviceImpact,firstSeen:firstSeenDate?firstSeenDate.toLocaleString():'Unknown',lastSeen:lastSeenDate?lastSeenDate.toLocaleString():'Unknown'});});},[issues]);// Filter and sort issues\nconst filtered=useMemo(()=>{let result=issuesWithImpacts;// Filter by severity tab\nif(tab!=='all'){result=result.filter(i=>{var _i$severity;return((_i$severity=i.severity)===null||_i$severity===void 0?void 0:_i$severity.toLowerCase())===tab;});}// Filter by device\nif(deviceFilter!=='all'){result=result.filter(i=>(i.affectedSystems||[]).includes(deviceFilter));}// Filter by date range (inclusive)\nif(dateFrom||dateTo){const from=dateFrom?new Date(dateFrom):null;const to=dateTo?new Date(dateTo):null;result=result.filter(i=>{if(!i.firstSeen&&!i.lastSeen)return false;const start=i.firstSeen||i.lastSeen;const end=i.lastSeen||i.firstSeen;if(from&&end<from)return false;if(to&&start>to)return false;return true;});}// Filter by search query\nif(searchQuery){const query=searchQuery.toLowerCase();result=result.filter(i=>{var _i$description,_i$category,_i$severity2;return((_i$description=i.description)===null||_i$description===void 0?void 0:_i$description.toLowerCase().includes(query))||((_i$category=i.category)===null||_i$category===void 0?void 0:_i$category.toLowerCase().includes(query))||((_i$severity2=i.severity)===null||_i$severity2===void 0?void 0:_i$severity2.toLowerCase().includes(query));});}// Sort\nresult.sort((a,b)=>{let comparison=0;switch(sortBy){case'severity':const severityOrder={Critical:4,Error:3,Warning:2,Information:1};comparison=(severityOrder[a.severity]||0)-(severityOrder[b.severity]||0);break;case'category':comparison=(a.category||'').localeCompare(b.category||'');break;case'occurrences':default:comparison=(a.occurrences||0)-(b.occurrences||0);}return sortOrder==='desc'?-comparison:comparison;});return result;},[issuesWithImpacts,tab,deviceFilter,searchQuery,sortBy,sortOrder,dateFrom,dateTo]);// Paginate\nconst totalPages=Math.ceil(filtered.length/itemsPerPage);const paginatedIssues=useMemo(()=>{const startIdx=(currentPage-1)*itemsPerPage;return filtered.slice(startIdx,startIdx+itemsPerPage);},[filtered,currentPage]);const tabs=[{id:'all',label:'All',count:(issues||[]).length},{id:'critical',label:'Critical',count:severityCounts.Critical},{id:'error',label:'Error',count:severityCounts.Error},{id:'warning',label:'Warning',count:severityCounts.Warning},{id:'information',label:'Info',count:severityCounts.Information}];const columns=[{key:'severity',label:'Severity',render:v=>/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(String(v).toLowerCase()),children:v})},{key:'category',label:'Category'},{key:'description',label:'Description'},{key:'userImpact',label:'Users Impacted'},{key:'deviceImpact',label:'Devices Impacted'},{key:'occurrences',label:'Occurrences'}];// Generate solutions based on category and pattern\nconst generateSolutions=(category,description)=>{const categoryMap={'Security':['Update security policies and access controls to restrict unauthorized access','Enable MFA (Multi-Factor Authentication) for all user accounts','Review and rotate compromised credentials','Run full security scan and malware detection'],'Performance':['Optimize database queries and add appropriate indexes','Increase memory allocation to the affected services','Implement caching layer to reduce load','Scale horizontally by adding more instances'],'Network':['Check network connectivity and firewall rules','Increase bandwidth allocation if needed','Configure load balancing and failover mechanisms','Verify DNS resolution and routing configuration'],'Storage':['Clean up temporary files and optimize storage usage','Implement data archival and retention policies','Add additional storage capacity','Defragment disk and optimize file system'],'Application':['Update application to the latest stable version','Check application logs for error details','Restart the application service','Review application configuration and dependencies'],'System':['Restart the affected system','Update operating system patches and drivers','Check system resources (CPU, RAM, Disk)','Verify system time synchronization']};return categoryMap[category]||categoryMap['Application'];};// Generate root cause based on issue patterns\nconst generateRootCause=(category,description)=>{const rootCauseMap={'Security':'Unauthorized access attempt or potential security breach detected in system logs.','Performance':'System performance degradation due to high resource utilization or inefficient processes.','Network':'Network connectivity issues or bandwidth constraints affecting system communication.','Storage':'Insufficient storage space or I/O performance issues on the affected device.','Application':'Application error or unexpected behavior detected in recent logs.','System':'System-level issue including resource constraints or configuration problems.'};return rootCauseMap[category]||'Issue detected based on log pattern analysis.';};const handleRowClick=issue=>{if(!issue)return;setSelectedIssue(issue);setSelectedSolutionIndex(0);};useEffect(()=>{const onKeyDown=e=>{if(e.key==='Escape'){setSelectedIssue(null);}};window.addEventListener('keydown',onKeyDown);return()=>window.removeEventListener('keydown',onKeyDown);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"alerts\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Alerts & Issues\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Fleet-wide alert monitoring and issue tracking\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"search-icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search issues...\",value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);setCurrentPage(1);},className:\"search-input\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:deviceFilter,onChange:e=>{setDeviceFilter(e.target.value);setCurrentPage(1);},className:\"device-filter-select\",children:[/*#__PURE__*/_jsxs(\"option\",{value:\"all\",children:[\"All Devices (\",devices.length,\")\"]}),devices.map(device=>/*#__PURE__*/_jsx(\"option\",{value:device,children:device},device))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-filters\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"date-label\",children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateFrom,onChange:e=>{setDateFrom(e.target.value);setCurrentPage(1);},className:\"date-input\"}),/*#__PURE__*/_jsx(\"label\",{className:\"date-label\",children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateTo,onChange:e=>{setDateTo(e.target.value);setCurrentPage(1);},className:\"date-input\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"device-filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"occurrences\",children:\"Sort: Occurrences\"}),/*#__PURE__*/_jsx(\"option\",{value:\"severity\",children:\"Sort: Severity\"}),/*#__PURE__*/_jsx(\"option\",{value:\"category\",children:\"Sort: Category\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"sort-order-btn\",onClick:()=>setSortOrder(sortOrder==='asc'?'desc':'asc'),title:sortOrder==='asc'?'Ascending':'Descending',children:sortOrder==='asc'?'‚Üë':'‚Üì'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"severity-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card critical\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"severity-icon\",children:\"\\uD83D\\uDED1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"severity-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"severity-count\",children:severityCounts.Critical}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-label\",children:\"Critical\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card error\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"severity-icon\",children:\"\\uD83D\\uDD34\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"severity-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"severity-count\",children:severityCounts.Error}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-label\",children:\"Error\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card warning\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"severity-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"severity-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"severity-count\",children:severityCounts.Warning}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-label\",children:\"Warning\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"severity-icon\",children:\"\\u2139\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"severity-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"severity-count\",children:severityCounts.Information}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-label\",children:\"Info\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alerts-tabs\",children:tabs.map(t=>/*#__PURE__*/_jsxs(\"button\",{className:\"alerts-tab \".concat(tab===t.id?'active':''),onClick:()=>{setTab(t.id);setCurrentPage(1);},children:[t.label,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"tab-count\",children:[\"(\",t.count,\")\"]})]},t.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-results-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Showing \",paginatedIssues.length,\" of \",filtered.length,\" issues\"]}),filtered.length!==(issues||[]).length&&/*#__PURE__*/_jsx(\"button\",{className:\"clear-filters-btn\",onClick:()=>{setSearchQuery('');setDeviceFilter('all');setDateFrom('');setDateTo('');setCurrentPage(1);},children:\"Clear Filters\"})]}),paginatedIssues.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DataTable,{columns:columns,rows:paginatedIssues,onRowClick:handleRowClick}),selectedIssue&&/*#__PURE__*/_jsx(\"div\",{className:\"issue-drawer\",onClick:()=>setSelectedIssue(null),children:/*#__PURE__*/_jsxs(\"div\",{className:\"issue-drawer__panel\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"issue-drawer__header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"drawer-kicker\",children:\"Issue Detail\"}),/*#__PURE__*/_jsx(\"h3\",{children:selectedIssue.description})]}),/*#__PURE__*/_jsx(\"button\",{className:\"drawer-close\",onClick:()=>setSelectedIssue(null),\"aria-label\":\"Close\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Severity\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(String(selectedIssue.severity).toLowerCase()==='information'?'info':String(selectedIssue.severity).toLowerCase()),children:selectedIssue.severity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Category\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedIssue.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Occurrences\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:selectedIssue.occurrences})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Users Affected\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:selectedIssue.userImpact})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Devices Affected\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:selectedIssue.deviceImpact})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"First Seen\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedIssue.firstSeen||'Unknown'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-section\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Root Cause Analysis\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedIssue.rootCause&&selectedIssue.rootCause!=='N/A'?selectedIssue.rootCause:generateRootCause(selectedIssue.category,selectedIssue.description)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-section\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Recommended Solution\"}),(()=>{const solutions=selectedIssue.solution&&selectedIssue.solution!=='N/A'?Array.isArray(selectedIssue.solution)?selectedIssue.solution:[selectedIssue.solution]:generateSolutions(selectedIssue.category,selectedIssue.description);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:solutions[selectedSolutionIndex]}),solutions.length>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"solution-navigation\",style:{marginTop:'12px'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"solution-nav-btn\",onClick:()=>setSelectedSolutionIndex(Math.max(0,selectedSolutionIndex-1)),disabled:selectedSolutionIndex===0,children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"span\",{className:\"solution-dots\",children:solutions.map((_,idx)=>/*#__PURE__*/_jsx(\"button\",{className:\"dot \".concat(idx===selectedSolutionIndex?'active':''),onClick:()=>setSelectedSolutionIndex(idx)},idx))}),/*#__PURE__*/_jsx(\"button\",{className:\"solution-nav-btn\",onClick:()=>setSelectedSolutionIndex(Math.min(solutions.length-1,selectedSolutionIndex+1)),disabled:selectedSolutionIndex===solutions.length-1,children:\"Next \\u2192\"})]})]});})()]}),(selectedIssue.affectedUsers||selectedIssue.affectedSystems)&&/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-section\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Users & Devices Affected\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-search-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"search-icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by user ID or device...\",value:drawerImpactSearch,onChange:e=>setDrawerImpactSearch(e.target.value),className:\"list-search-input\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"scrollable-list\",children:selectedIssue.samples&&selectedIssue.samples.length>0?selectedIssue.samples.reduce((acc,sample)=>{const key=\"\".concat(sample.user,\"|\").concat(sample.system);if(!acc.find(item=>item.key===key)){acc.push({key,user:sample.user,device:sample.system});}return acc;},[]).filter(item=>item.user.toLowerCase().includes(drawerImpactSearch.toLowerCase())||item.device.toLowerCase().includes(drawerImpactSearch.toLowerCase())).map((item,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"list-item-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-user-device\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"list-user-id\",children:[\"\\uD83D\\uDC64 \",item.user]}),/*#__PURE__*/_jsxs(\"span\",{className:\"list-device-name\",children:[\"\\uD83D\\uDDA5\\uFE0F \",item.device]})]})})},idx)):/*#__PURE__*/_jsx(\"div\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"span\",{className:\"list-text\",children:\"No impact data available\"})})})]}),selectedIssue.samples&&selectedIssue.samples.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-section\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Sample Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"samples-list\",children:selectedIssue.samples.slice(0,5).map((s,idx)=>{const sampleDate=new Date(s.timestamp);const dateStr=isNaN(sampleDate.getTime())?'N/A':sampleDate.toLocaleString();return/*#__PURE__*/_jsxs(\"div\",{className:\"sample-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sample-meta\",children:[dateStr,\" \\u2022 \",s.system,\" \\u2022 \",s.user]}),/*#__PURE__*/_jsx(\"div\",{className:\"sample-text\",children:s.message||'Log entry'})]},idx);})})]})]})}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pagination-btn\",onClick:()=>setCurrentPage(1),disabled:currentPage===1,children:\"\\u27E8\\u27E8 First\"}),/*#__PURE__*/_jsx(\"button\",{className:\"pagination-btn\",onClick:()=>setCurrentPage(currentPage-1),disabled:currentPage===1,children:\"\\u27E8 Previous\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-info\",children:[\"Page \",currentPage,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{className:\"pagination-btn\",onClick:()=>setCurrentPage(currentPage+1),disabled:currentPage===totalPages,children:\"Next \\u27E9\"}),/*#__PURE__*/_jsx(\"button\",{className:\"pagination-btn\",onClick:()=>setCurrentPage(totalPages),disabled:currentPage===totalPages,children:\"Last \\u27E9\\u27E9\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"empty-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No issues found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Try adjusting your search or filters\"})]})]});}","map":{"version":3,"names":["React","useMemo","useState","useEffect","DataTable","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Alerts","_ref","issues","sessions","tab","setTab","deviceFilter","setDeviceFilter","dateFrom","setDateFrom","dateTo","setDateTo","sortBy","setSortBy","sortOrder","setSortOrder","searchQuery","setSearchQuery","currentPage","setCurrentPage","selectedIssue","setSelectedIssue","drawerImpactSearch","setDrawerImpactSearch","selectedSolutionIndex","setSelectedSolutionIndex","itemsPerPage","devices","deviceSet","Set","forEach","s","add","systemName","Array","from","sort","severityCounts","reduce","acc","issue","severity","Critical","Error","Warning","Information","issuesWithImpacts","map","userImpact","isArray","affectedUsers","length","userCount","deviceImpact","affectedSystems","timestamps","samples","Date","timestamp","filter","d","isNaN","firstSeenDate","Math","min","lastSeenDate","max","_objectSpread","firstSeen","toLocaleString","lastSeen","filtered","result","i","_i$severity","toLowerCase","includes","to","start","end","query","_i$description","_i$category","_i$severity2","description","category","a","b","comparison","severityOrder","localeCompare","occurrences","totalPages","ceil","paginatedIssues","startIdx","slice","tabs","id","label","count","columns","key","render","v","className","concat","String","children","generateSolutions","categoryMap","generateRootCause","rootCauseMap","handleRowClick","onKeyDown","e","window","addEventListener","removeEventListener","type","placeholder","value","onChange","target","device","onClick","title","t","rows","onRowClick","stopPropagation","rootCause","solutions","solution","style","marginTop","disabled","_","idx","sample","user","system","find","item","push","sampleDate","dateStr","getTime","message"],"sources":["C:/Work/UserSystemLogAnalyzer/WebApp/ClientApp/src/components/Alerts.js"],"sourcesContent":["import React, { useMemo, useState, useEffect } from 'react';\r\nimport './Alerts.css';\r\nimport DataTable from './DataTable';\r\n\r\nexport default function Alerts({ issues, sessions }) {\r\n  const [tab, setTab] = useState('all');\r\n  const [deviceFilter, setDeviceFilter] = useState('all');\r\n  const [dateFrom, setDateFrom] = useState('');\r\n  const [dateTo, setDateTo] = useState('');\r\n  const [sortBy, setSortBy] = useState('occurrences'); // occurrences, severity, category\r\n  const [sortOrder, setSortOrder] = useState('desc');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [selectedIssue, setSelectedIssue] = useState(null);\r\n  const [drawerImpactSearch, setDrawerImpactSearch] = useState('');\r\n  const [selectedSolutionIndex, setSelectedSolutionIndex] = useState(0);\r\n  const itemsPerPage = 20;\r\n\r\n  // Get unique devices from sessions\r\n  const devices = useMemo(() => {\r\n    const deviceSet = new Set();\r\n    (sessions?.sessions || []).forEach(s => deviceSet.add(s.systemName));\r\n    return Array.from(deviceSet).sort();\r\n  }, [sessions]);\r\n\r\n  // Get severity counts\r\n  const severityCounts = useMemo(() => {\r\n    return (issues || []).reduce((acc, issue) => {\r\n      acc[issue.severity] = (acc[issue.severity] || 0) + 1;\r\n      return acc;\r\n    }, { Critical: 0, Error: 0, Warning: 0, Information: 0 });\r\n  }, [issues]);\r\n\r\n  const issuesWithImpacts = useMemo(() => {\r\n    return (issues || []).map(issue => {\r\n      const userImpact = Array.isArray(issue.affectedUsers) ? issue.affectedUsers.length : issue.userCount || 0;\r\n      const deviceImpact = Array.isArray(issue.affectedSystems) ? issue.affectedSystems.length : (issue.affectedSystems ? issue.affectedSystems.length : 0);\r\n\r\n      // derive earliest/latest timestamps for filtering\r\n      const timestamps = (issue.samples || []).map(s => new Date(s.timestamp)).filter(d => !isNaN(d));\r\n      const firstSeenDate = timestamps.length ? new Date(Math.min(...timestamps)) : null;\r\n      const lastSeenDate = timestamps.length ? new Date(Math.max(...timestamps)) : null;\r\n\r\n      return {\r\n        ...issue,\r\n        userImpact,\r\n        deviceImpact,\r\n        firstSeen: firstSeenDate ? firstSeenDate.toLocaleString() : 'Unknown',\r\n        lastSeen: lastSeenDate ? lastSeenDate.toLocaleString() : 'Unknown',\r\n      };\r\n    });\r\n  }, [issues]);\r\n\r\n  // Filter and sort issues\r\n  const filtered = useMemo(() => {\r\n    let result = issuesWithImpacts;\r\n\r\n    // Filter by severity tab\r\n    if (tab !== 'all') {\r\n      result = result.filter(i => i.severity?.toLowerCase() === tab);\r\n    }\r\n\r\n    // Filter by device\r\n    if (deviceFilter !== 'all') {\r\n      result = result.filter(i => (i.affectedSystems || []).includes(deviceFilter));\r\n    }\r\n\r\n    // Filter by date range (inclusive)\r\n    if (dateFrom || dateTo) {\r\n      const from = dateFrom ? new Date(dateFrom) : null;\r\n      const to = dateTo ? new Date(dateTo) : null;\r\n      result = result.filter(i => {\r\n        if (!i.firstSeen && !i.lastSeen) return false;\r\n        const start = i.firstSeen || i.lastSeen;\r\n        const end = i.lastSeen || i.firstSeen;\r\n        if (from && end < from) return false;\r\n        if (to && start > to) return false;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    // Filter by search query\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      result = result.filter(i => \r\n        i.description?.toLowerCase().includes(query) ||\r\n        i.category?.toLowerCase().includes(query) ||\r\n        i.severity?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    // Sort\r\n    result.sort((a, b) => {\r\n      let comparison = 0;\r\n      switch (sortBy) {\r\n        case 'severity':\r\n          const severityOrder = { Critical: 4, Error: 3, Warning: 2, Information: 1 };\r\n          comparison = (severityOrder[a.severity] || 0) - (severityOrder[b.severity] || 0);\r\n          break;\r\n        case 'category':\r\n          comparison = (a.category || '').localeCompare(b.category || '');\r\n          break;\r\n        case 'occurrences':\r\n        default:\r\n          comparison = (a.occurrences || 0) - (b.occurrences || 0);\r\n      }\r\n      return sortOrder === 'desc' ? -comparison : comparison;\r\n    });\r\n\r\n    return result;\r\n  }, [issuesWithImpacts, tab, deviceFilter, searchQuery, sortBy, sortOrder, dateFrom, dateTo]);\r\n\r\n  // Paginate\r\n  const totalPages = Math.ceil(filtered.length / itemsPerPage);\r\n  const paginatedIssues = useMemo(() => {\r\n    const startIdx = (currentPage - 1) * itemsPerPage;\r\n    return filtered.slice(startIdx, startIdx + itemsPerPage);\r\n  }, [filtered, currentPage]);\r\n\r\n  const tabs = [\r\n    { id: 'all', label: 'All', count: (issues || []).length },\r\n    { id: 'critical', label: 'Critical', count: severityCounts.Critical },\r\n    { id: 'error', label: 'Error', count: severityCounts.Error },\r\n    { id: 'warning', label: 'Warning', count: severityCounts.Warning },\r\n    { id: 'information', label: 'Info', count: severityCounts.Information },\r\n  ];\r\n\r\n  const columns = [\r\n    { key: 'severity', label: 'Severity', render: (v) => <span className={`badge badge-${String(v).toLowerCase()}`}>{v}</span> },\r\n    { key: 'category', label: 'Category' },\r\n    { key: 'description', label: 'Description' },\r\n    { key: 'userImpact', label: 'Users Impacted' },\r\n    { key: 'deviceImpact', label: 'Devices Impacted' },\r\n    { key: 'occurrences', label: 'Occurrences' },\r\n  ];\r\n\r\n  // Generate solutions based on category and pattern\r\n  const generateSolutions = (category, description) => {\r\n    const categoryMap = {\r\n      'Security': [\r\n        'Update security policies and access controls to restrict unauthorized access',\r\n        'Enable MFA (Multi-Factor Authentication) for all user accounts',\r\n        'Review and rotate compromised credentials',\r\n        'Run full security scan and malware detection'\r\n      ],\r\n      'Performance': [\r\n        'Optimize database queries and add appropriate indexes',\r\n        'Increase memory allocation to the affected services',\r\n        'Implement caching layer to reduce load',\r\n        'Scale horizontally by adding more instances'\r\n      ],\r\n      'Network': [\r\n        'Check network connectivity and firewall rules',\r\n        'Increase bandwidth allocation if needed',\r\n        'Configure load balancing and failover mechanisms',\r\n        'Verify DNS resolution and routing configuration'\r\n      ],\r\n      'Storage': [\r\n        'Clean up temporary files and optimize storage usage',\r\n        'Implement data archival and retention policies',\r\n        'Add additional storage capacity',\r\n        'Defragment disk and optimize file system'\r\n      ],\r\n      'Application': [\r\n        'Update application to the latest stable version',\r\n        'Check application logs for error details',\r\n        'Restart the application service',\r\n        'Review application configuration and dependencies'\r\n      ],\r\n      'System': [\r\n        'Restart the affected system',\r\n        'Update operating system patches and drivers',\r\n        'Check system resources (CPU, RAM, Disk)',\r\n        'Verify system time synchronization'\r\n      ]\r\n    };\r\n    return categoryMap[category] || categoryMap['Application'];\r\n  };\r\n\r\n  // Generate root cause based on issue patterns\r\n  const generateRootCause = (category, description) => {\r\n    const rootCauseMap = {\r\n      'Security': 'Unauthorized access attempt or potential security breach detected in system logs.',\r\n      'Performance': 'System performance degradation due to high resource utilization or inefficient processes.',\r\n      'Network': 'Network connectivity issues or bandwidth constraints affecting system communication.',\r\n      'Storage': 'Insufficient storage space or I/O performance issues on the affected device.',\r\n      'Application': 'Application error or unexpected behavior detected in recent logs.',\r\n      'System': 'System-level issue including resource constraints or configuration problems.'\r\n    };\r\n    return rootCauseMap[category] || 'Issue detected based on log pattern analysis.';\r\n  };\r\n\r\n  const handleRowClick = (issue) => {\r\n    if (!issue) return;\r\n    setSelectedIssue(issue);\r\n    setSelectedSolutionIndex(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onKeyDown = (e) => {\r\n      if (e.key === 'Escape') {\r\n        setSelectedIssue(null);\r\n      }\r\n    };\r\n    window.addEventListener('keydown', onKeyDown);\r\n    return () => window.removeEventListener('keydown', onKeyDown);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"alerts\">\r\n      <div className=\"alerts-header\">\r\n        <div>\r\n          <h2>Alerts & Issues</h2>\r\n          <p>Fleet-wide alert monitoring and issue tracking</p>\r\n        </div>\r\n        <div className=\"alerts-controls\">\r\n          {/* Search */}\r\n          <div className=\"search-box\">\r\n            <span className=\"search-icon\">üîç</span>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search issues...\"\r\n              value={searchQuery}\r\n              onChange={(e) => {\r\n                setSearchQuery(e.target.value);\r\n                setCurrentPage(1);\r\n              }}\r\n              className=\"search-input\"\r\n            />\r\n          </div>\r\n\r\n          {/* Device Filter */}\r\n          <select\r\n            value={deviceFilter}\r\n            onChange={(e) => {\r\n              setDeviceFilter(e.target.value);\r\n              setCurrentPage(1);\r\n            }}\r\n            className=\"device-filter-select\"\r\n          >\r\n            <option value=\"all\">All Devices ({devices.length})</option>\r\n            {devices.map(device => (\r\n              <option key={device} value={device}>\r\n                {device}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* Date filters */}\r\n          <div className=\"date-filters\">\r\n            <label className=\"date-label\">From</label>\r\n            <input\r\n              type=\"date\"\r\n              value={dateFrom}\r\n              onChange={(e) => {\r\n                setDateFrom(e.target.value);\r\n                setCurrentPage(1);\r\n              }}\r\n              className=\"date-input\"\r\n            />\r\n            <label className=\"date-label\">To</label>\r\n            <input\r\n              type=\"date\"\r\n              value={dateTo}\r\n              onChange={(e) => {\r\n                setDateTo(e.target.value);\r\n                setCurrentPage(1);\r\n              }}\r\n              className=\"date-input\"\r\n            />\r\n          </div>\r\n\r\n          {/* Sort By */}\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value)}\r\n            className=\"device-filter-select\"\r\n          >\r\n            <option value=\"occurrences\">Sort: Occurrences</option>\r\n            <option value=\"severity\">Sort: Severity</option>\r\n            <option value=\"category\">Sort: Category</option>\r\n          </select>\r\n\r\n          {/* Sort Order */}\r\n          <button\r\n            className=\"sort-order-btn\"\r\n            onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\r\n            title={sortOrder === 'asc' ? 'Ascending' : 'Descending'}\r\n          >\r\n            {sortOrder === 'asc' ? '‚Üë' : '‚Üì'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Severity Summary */}\r\n      <div className=\"severity-summary\">\r\n        <div className=\"severity-card critical\">\r\n          <div className=\"severity-icon\">üõë</div>\r\n          <div className=\"severity-info\">\r\n            <div className=\"severity-count\">{severityCounts.Critical}</div>\r\n            <div className=\"severity-label\">Critical</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"severity-card error\">\r\n          <div className=\"severity-icon\">üî¥</div>\r\n          <div className=\"severity-info\">\r\n            <div className=\"severity-count\">{severityCounts.Error}</div>\r\n            <div className=\"severity-label\">Error</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"severity-card warning\">\r\n          <div className=\"severity-icon\">‚ö†Ô∏è</div>\r\n          <div className=\"severity-info\">\r\n            <div className=\"severity-count\">{severityCounts.Warning}</div>\r\n            <div className=\"severity-label\">Warning</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"severity-card info\">\r\n          <div className=\"severity-icon\">‚ÑπÔ∏è</div>\r\n          <div className=\"severity-info\">\r\n            <div className=\"severity-count\">{severityCounts.Information}</div>\r\n            <div className=\"severity-label\">Info</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"alerts-tabs\">\r\n        {tabs.map(t => (\r\n          <button \r\n            key={t.id} \r\n            className={`alerts-tab ${tab === t.id ? 'active' : ''}`} \r\n            onClick={() => {\r\n              setTab(t.id);\r\n              setCurrentPage(1);\r\n            }}\r\n          >\r\n            {t.label} <span className=\"tab-count\">({t.count})</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Results Info */}\r\n      <div className=\"alerts-results-info\">\r\n        <span>Showing {paginatedIssues.length} of {filtered.length} issues</span>\r\n        {filtered.length !== (issues || []).length && (\r\n          <button\r\n            className=\"clear-filters-btn\"\r\n            onClick={() => {\r\n              setSearchQuery('');\r\n              setDeviceFilter('all');\r\n              setDateFrom('');\r\n              setDateTo('');\r\n              setCurrentPage(1);\r\n            }}\r\n          >\r\n            Clear Filters\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Table */}\r\n      {paginatedIssues.length > 0 ? (\r\n        <>\r\n          <DataTable columns={columns} rows={paginatedIssues} onRowClick={handleRowClick} />\r\n\r\n          {selectedIssue && (\r\n            <div className=\"issue-drawer\" onClick={() => setSelectedIssue(null)}>\r\n              <div className=\"issue-drawer__panel\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"issue-drawer__header\">\r\n                  <div>\r\n                    <p className=\"drawer-kicker\">Issue Detail</p>\r\n                    <h3>{selectedIssue.description}</h3>\r\n                  </div>\r\n                  <button className=\"drawer-close\" onClick={() => setSelectedIssue(null)} aria-label=\"Close\">\r\n                    √ó\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"drawer-grid\">\r\n                  <div className=\"drawer-card\">\r\n                    <p className=\"label\">Severity</p>\r\n                    <span className={`badge badge-${String(selectedIssue.severity).toLowerCase() === 'information' ? 'info' : String(selectedIssue.severity).toLowerCase()}`}>{selectedIssue.severity}</span>\r\n                  </div>\r\n                  <div className=\"drawer-card\">\r\n                    <p className=\"label\">Category</p>\r\n                    <span>{selectedIssue.category}</span>\r\n                  </div>\r\n                  <div className=\"drawer-card\">\r\n                    <p className=\"label\">Occurrences</p>\r\n                    <span className=\"stat-value\">{selectedIssue.occurrences}</span>\r\n                  </div>\r\n                  <div className=\"drawer-card\">\r\n                    <p className=\"label\">Users Affected</p>\r\n                    <span className=\"stat-value\">{selectedIssue.userImpact}</span>\r\n                  </div>\r\n                  <div className=\"drawer-card\">\r\n                    <p className=\"label\">Devices Affected</p>\r\n                    <span className=\"stat-value\">{selectedIssue.deviceImpact}</span>\r\n                  </div>\r\n                  <div className=\"drawer-card\">\r\n                    <p className=\"label\">First Seen</p>\r\n                    <span>{selectedIssue.firstSeen || 'Unknown'}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"drawer-section\">\r\n                  <p className=\"label\">Root Cause Analysis</p>\r\n                  <p>{selectedIssue.rootCause && selectedIssue.rootCause !== 'N/A' \r\n                    ? selectedIssue.rootCause \r\n                    : generateRootCause(selectedIssue.category, selectedIssue.description)}</p>\r\n                </div>\r\n\r\n                <div className=\"drawer-section\">\r\n                  <p className=\"label\">Recommended Solution</p>\r\n                  {(() => {\r\n                    const solutions = selectedIssue.solution && selectedIssue.solution !== 'N/A' \r\n                      ? Array.isArray(selectedIssue.solution) \r\n                        ? selectedIssue.solution \r\n                        : [selectedIssue.solution]\r\n                      : generateSolutions(selectedIssue.category, selectedIssue.description);\r\n                    \r\n                    return (\r\n                      <div>\r\n                        <p>{solutions[selectedSolutionIndex]}</p>\r\n                        {solutions.length > 1 && (\r\n                          <div className=\"solution-navigation\" style={{ marginTop: '12px' }}>\r\n                            <button \r\n                              className=\"solution-nav-btn\"\r\n                              onClick={() => setSelectedSolutionIndex(Math.max(0, selectedSolutionIndex - 1))}\r\n                              disabled={selectedSolutionIndex === 0}\r\n                            >\r\n                              ‚Üê Previous\r\n                            </button>\r\n                            <span className=\"solution-dots\">\r\n                              {solutions.map((_, idx) => (\r\n                                <button\r\n                                  key={idx}\r\n                                  className={`dot ${idx === selectedSolutionIndex ? 'active' : ''}`}\r\n                                  onClick={() => setSelectedSolutionIndex(idx)}\r\n                                />\r\n                              ))}\r\n                            </span>\r\n                            <button \r\n                              className=\"solution-nav-btn\"\r\n                              onClick={() => setSelectedSolutionIndex(Math.min(solutions.length - 1, selectedSolutionIndex + 1))}\r\n                              disabled={selectedSolutionIndex === solutions.length - 1}\r\n                            >\r\n                              Next ‚Üí\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })()}\r\n                </div>\r\n\r\n                {(selectedIssue.affectedUsers || selectedIssue.affectedSystems) && (\r\n                  <div className=\"drawer-section\">\r\n                    <p className=\"label\">Users & Devices Affected</p>\r\n                    <div className=\"list-search-box\">\r\n                      <span className=\"search-icon\">üîç</span>\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search by user ID or device...\"\r\n                        value={drawerImpactSearch}\r\n                        onChange={(e) => setDrawerImpactSearch(e.target.value)}\r\n                        className=\"list-search-input\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"scrollable-list\">\r\n                      {selectedIssue.samples && selectedIssue.samples.length > 0 ? (\r\n                        selectedIssue.samples\r\n                          .reduce((acc, sample) => {\r\n                            const key = `${sample.user}|${sample.system}`;\r\n                            if (!acc.find(item => item.key === key)) {\r\n                              acc.push({ key, user: sample.user, device: sample.system });\r\n                            }\r\n                            return acc;\r\n                          }, [])\r\n                          .filter(item => \r\n                            item.user.toLowerCase().includes(drawerImpactSearch.toLowerCase()) ||\r\n                            item.device.toLowerCase().includes(drawerImpactSearch.toLowerCase())\r\n                          )\r\n                          .map((item, idx) => (\r\n                            <div key={idx} className=\"list-item\">\r\n                              <div className=\"list-item-content\">\r\n                                <div className=\"list-user-device\">\r\n                                  <span className=\"list-user-id\">üë§ {item.user}</span>\r\n                                  <span className=\"list-device-name\">üñ•Ô∏è {item.device}</span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          ))\r\n                      ) : (\r\n                        <div className=\"list-item\">\r\n                          <span className=\"list-text\">No impact data available</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {selectedIssue.samples && selectedIssue.samples.length > 0 && (\r\n                  <div className=\"drawer-section\">\r\n                    <p className=\"label\">Sample Events</p>\r\n                    <div className=\"samples-list\">\r\n                      {selectedIssue.samples.slice(0, 5).map((s, idx) => {\r\n                        const sampleDate = new Date(s.timestamp);\r\n                        const dateStr = isNaN(sampleDate.getTime()) ? 'N/A' : sampleDate.toLocaleString();\r\n                        return (\r\n                          <div key={idx} className=\"sample-item\">\r\n                            <div className=\"sample-meta\">{dateStr} ‚Ä¢ {s.system} ‚Ä¢ {s.user}</div>\r\n                            <div className=\"sample-text\">{s.message || 'Log entry'}</div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div className=\"pagination-controls\">\r\n              <button\r\n                className=\"pagination-btn\"\r\n                onClick={() => setCurrentPage(1)}\r\n                disabled={currentPage === 1}\r\n              >\r\n                ‚ü®‚ü® First\r\n              </button>\r\n              <button\r\n                className=\"pagination-btn\"\r\n                onClick={() => setCurrentPage(currentPage - 1)}\r\n                disabled={currentPage === 1}\r\n              >\r\n                ‚ü® Previous\r\n              </button>\r\n              <div className=\"pagination-info\">\r\n                Page {currentPage} of {totalPages}\r\n              </div>\r\n              <button\r\n                className=\"pagination-btn\"\r\n                onClick={() => setCurrentPage(currentPage + 1)}\r\n                disabled={currentPage === totalPages}\r\n              >\r\n                Next ‚ü©\r\n              </button>\r\n              <button\r\n                className=\"pagination-btn\"\r\n                onClick={() => setCurrentPage(totalPages)}\r\n                disabled={currentPage === totalPages}\r\n              >\r\n                Last ‚ü©‚ü©\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div className=\"empty-state\">\r\n          <span className=\"empty-icon\">‚úÖ</span>\r\n          <h3>No issues found</h3>\r\n          <p>Try adjusting your search or filters</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAIC,OAAO,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3D,MAAO,cAAc,CACrB,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpC,cAAe,SAAS,CAAAC,MAAMA,CAAAC,IAAA,CAAuB,IAAtB,CAAEC,MAAM,CAAEC,QAAS,CAAC,CAAAF,IAAA,CACjD,KAAM,CAACG,GAAG,CAAEC,MAAM,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACrC,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACmB,MAAM,CAAEC,SAAS,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACqB,MAAM,CAAEC,SAAS,CAAC,CAAGtB,QAAQ,CAAC,aAAa,CAAC,CAAE;AACrD,KAAM,CAACuB,SAAS,CAAEC,YAAY,CAAC,CAAGxB,QAAQ,CAAC,MAAM,CAAC,CAClD,KAAM,CAACyB,WAAW,CAAEC,cAAc,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC2B,WAAW,CAAEC,cAAc,CAAC,CAAG5B,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAC6B,aAAa,CAAEC,gBAAgB,CAAC,CAAG9B,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAAC+B,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGhC,QAAQ,CAAC,EAAE,CAAC,CAChE,KAAM,CAACiC,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGlC,QAAQ,CAAC,CAAC,CAAC,CACrE,KAAM,CAAAmC,YAAY,CAAG,EAAE,CAEvB;AACA,KAAM,CAAAC,OAAO,CAAGrC,OAAO,CAAC,IAAM,CAC5B,KAAM,CAAAsC,SAAS,CAAG,GAAI,CAAAC,GAAG,CAAC,CAAC,CAC3B,CAAC,CAAA1B,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEA,QAAQ,GAAI,EAAE,EAAE2B,OAAO,CAACC,CAAC,EAAIH,SAAS,CAACI,GAAG,CAACD,CAAC,CAACE,UAAU,CAAC,CAAC,CACpE,MAAO,CAAAC,KAAK,CAACC,IAAI,CAACP,SAAS,CAAC,CAACQ,IAAI,CAAC,CAAC,CACrC,CAAC,CAAE,CAACjC,QAAQ,CAAC,CAAC,CAEd;AACA,KAAM,CAAAkC,cAAc,CAAG/C,OAAO,CAAC,IAAM,CACnC,MAAO,CAACY,MAAM,EAAI,EAAE,EAAEoC,MAAM,CAAC,CAACC,GAAG,CAAEC,KAAK,GAAK,CAC3CD,GAAG,CAACC,KAAK,CAACC,QAAQ,CAAC,CAAG,CAACF,GAAG,CAACC,KAAK,CAACC,QAAQ,CAAC,EAAI,CAAC,EAAI,CAAC,CACpD,MAAO,CAAAF,GAAG,CACZ,CAAC,CAAE,CAAEG,QAAQ,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAC,CAAEC,WAAW,CAAE,CAAE,CAAC,CAAC,CAC3D,CAAC,CAAE,CAAC3C,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAA4C,iBAAiB,CAAGxD,OAAO,CAAC,IAAM,CACtC,MAAO,CAACY,MAAM,EAAI,EAAE,EAAE6C,GAAG,CAACP,KAAK,EAAI,CACjC,KAAM,CAAAQ,UAAU,CAAGd,KAAK,CAACe,OAAO,CAACT,KAAK,CAACU,aAAa,CAAC,CAAGV,KAAK,CAACU,aAAa,CAACC,MAAM,CAAGX,KAAK,CAACY,SAAS,EAAI,CAAC,CACzG,KAAM,CAAAC,YAAY,CAAGnB,KAAK,CAACe,OAAO,CAACT,KAAK,CAACc,eAAe,CAAC,CAAGd,KAAK,CAACc,eAAe,CAACH,MAAM,CAAIX,KAAK,CAACc,eAAe,CAAGd,KAAK,CAACc,eAAe,CAACH,MAAM,CAAG,CAAE,CAErJ;AACA,KAAM,CAAAI,UAAU,CAAG,CAACf,KAAK,CAACgB,OAAO,EAAI,EAAE,EAAET,GAAG,CAAChB,CAAC,EAAI,GAAI,CAAA0B,IAAI,CAAC1B,CAAC,CAAC2B,SAAS,CAAC,CAAC,CAACC,MAAM,CAACC,CAAC,EAAI,CAACC,KAAK,CAACD,CAAC,CAAC,CAAC,CAC/F,KAAM,CAAAE,aAAa,CAAGP,UAAU,CAACJ,MAAM,CAAG,GAAI,CAAAM,IAAI,CAACM,IAAI,CAACC,GAAG,CAAC,GAAGT,UAAU,CAAC,CAAC,CAAG,IAAI,CAClF,KAAM,CAAAU,YAAY,CAAGV,UAAU,CAACJ,MAAM,CAAG,GAAI,CAAAM,IAAI,CAACM,IAAI,CAACG,GAAG,CAAC,GAAGX,UAAU,CAAC,CAAC,CAAG,IAAI,CAEjF,OAAAY,aAAA,CAAAA,aAAA,IACK3B,KAAK,MACRQ,UAAU,CACVK,YAAY,CACZe,SAAS,CAAEN,aAAa,CAAGA,aAAa,CAACO,cAAc,CAAC,CAAC,CAAG,SAAS,CACrEC,QAAQ,CAAEL,YAAY,CAAGA,YAAY,CAACI,cAAc,CAAC,CAAC,CAAG,SAAS,GAEtE,CAAC,CAAC,CACJ,CAAC,CAAE,CAACnE,MAAM,CAAC,CAAC,CAEZ;AACA,KAAM,CAAAqE,QAAQ,CAAGjF,OAAO,CAAC,IAAM,CAC7B,GAAI,CAAAkF,MAAM,CAAG1B,iBAAiB,CAE9B;AACA,GAAI1C,GAAG,GAAK,KAAK,CAAE,CACjBoE,MAAM,CAAGA,MAAM,CAACb,MAAM,CAACc,CAAC,OAAAC,WAAA,OAAI,EAAAA,WAAA,CAAAD,CAAC,CAAChC,QAAQ,UAAAiC,WAAA,iBAAVA,WAAA,CAAYC,WAAW,CAAC,CAAC,IAAKvE,GAAG,GAAC,CAChE,CAEA;AACA,GAAIE,YAAY,GAAK,KAAK,CAAE,CAC1BkE,MAAM,CAAGA,MAAM,CAACb,MAAM,CAACc,CAAC,EAAI,CAACA,CAAC,CAACnB,eAAe,EAAI,EAAE,EAAEsB,QAAQ,CAACtE,YAAY,CAAC,CAAC,CAC/E,CAEA;AACA,GAAIE,QAAQ,EAAIE,MAAM,CAAE,CACtB,KAAM,CAAAyB,IAAI,CAAG3B,QAAQ,CAAG,GAAI,CAAAiD,IAAI,CAACjD,QAAQ,CAAC,CAAG,IAAI,CACjD,KAAM,CAAAqE,EAAE,CAAGnE,MAAM,CAAG,GAAI,CAAA+C,IAAI,CAAC/C,MAAM,CAAC,CAAG,IAAI,CAC3C8D,MAAM,CAAGA,MAAM,CAACb,MAAM,CAACc,CAAC,EAAI,CAC1B,GAAI,CAACA,CAAC,CAACL,SAAS,EAAI,CAACK,CAAC,CAACH,QAAQ,CAAE,MAAO,MAAK,CAC7C,KAAM,CAAAQ,KAAK,CAAGL,CAAC,CAACL,SAAS,EAAIK,CAAC,CAACH,QAAQ,CACvC,KAAM,CAAAS,GAAG,CAAGN,CAAC,CAACH,QAAQ,EAAIG,CAAC,CAACL,SAAS,CACrC,GAAIjC,IAAI,EAAI4C,GAAG,CAAG5C,IAAI,CAAE,MAAO,MAAK,CACpC,GAAI0C,EAAE,EAAIC,KAAK,CAAGD,EAAE,CAAE,MAAO,MAAK,CAClC,MAAO,KAAI,CACb,CAAC,CAAC,CACJ,CAEA;AACA,GAAI7D,WAAW,CAAE,CACf,KAAM,CAAAgE,KAAK,CAAGhE,WAAW,CAAC2D,WAAW,CAAC,CAAC,CACvCH,MAAM,CAAGA,MAAM,CAACb,MAAM,CAACc,CAAC,OAAAQ,cAAA,CAAAC,WAAA,CAAAC,YAAA,OACtB,EAAAF,cAAA,CAAAR,CAAC,CAACW,WAAW,UAAAH,cAAA,iBAAbA,cAAA,CAAeN,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACI,KAAK,CAAC,KAAAE,WAAA,CAC5CT,CAAC,CAACY,QAAQ,UAAAH,WAAA,iBAAVA,WAAA,CAAYP,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACI,KAAK,CAAC,KAAAG,YAAA,CACzCV,CAAC,CAAChC,QAAQ,UAAA0C,YAAA,iBAAVA,YAAA,CAAYR,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACI,KAAK,CAAC,GAC3C,CAAC,CACH,CAEA;AACAR,MAAM,CAACpC,IAAI,CAAC,CAACkD,CAAC,CAAEC,CAAC,GAAK,CACpB,GAAI,CAAAC,UAAU,CAAG,CAAC,CAClB,OAAQ5E,MAAM,EACZ,IAAK,UAAU,CACb,KAAM,CAAA6E,aAAa,CAAG,CAAE/C,QAAQ,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAC,CAAEC,WAAW,CAAE,CAAE,CAAC,CAC3E2C,UAAU,CAAG,CAACC,aAAa,CAACH,CAAC,CAAC7C,QAAQ,CAAC,EAAI,CAAC,GAAKgD,aAAa,CAACF,CAAC,CAAC9C,QAAQ,CAAC,EAAI,CAAC,CAAC,CAChF,MACF,IAAK,UAAU,CACb+C,UAAU,CAAG,CAACF,CAAC,CAACD,QAAQ,EAAI,EAAE,EAAEK,aAAa,CAACH,CAAC,CAACF,QAAQ,EAAI,EAAE,CAAC,CAC/D,MACF,IAAK,aAAa,CAClB,QACEG,UAAU,CAAG,CAACF,CAAC,CAACK,WAAW,EAAI,CAAC,GAAKJ,CAAC,CAACI,WAAW,EAAI,CAAC,CAAC,CAC5D,CACA,MAAO,CAAA7E,SAAS,GAAK,MAAM,CAAG,CAAC0E,UAAU,CAAGA,UAAU,CACxD,CAAC,CAAC,CAEF,MAAO,CAAAhB,MAAM,CACf,CAAC,CAAE,CAAC1B,iBAAiB,CAAE1C,GAAG,CAAEE,YAAY,CAAEU,WAAW,CAAEJ,MAAM,CAAEE,SAAS,CAAEN,QAAQ,CAAEE,MAAM,CAAC,CAAC,CAE5F;AACA,KAAM,CAAAkF,UAAU,CAAG7B,IAAI,CAAC8B,IAAI,CAACtB,QAAQ,CAACpB,MAAM,CAAGzB,YAAY,CAAC,CAC5D,KAAM,CAAAoE,eAAe,CAAGxG,OAAO,CAAC,IAAM,CACpC,KAAM,CAAAyG,QAAQ,CAAG,CAAC7E,WAAW,CAAG,CAAC,EAAIQ,YAAY,CACjD,MAAO,CAAA6C,QAAQ,CAACyB,KAAK,CAACD,QAAQ,CAAEA,QAAQ,CAAGrE,YAAY,CAAC,CAC1D,CAAC,CAAE,CAAC6C,QAAQ,CAAErD,WAAW,CAAC,CAAC,CAE3B,KAAM,CAAA+E,IAAI,CAAG,CACX,CAAEC,EAAE,CAAE,KAAK,CAAEC,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,CAAClG,MAAM,EAAI,EAAE,EAAEiD,MAAO,CAAC,CACzD,CAAE+C,EAAE,CAAE,UAAU,CAAEC,KAAK,CAAE,UAAU,CAAEC,KAAK,CAAE/D,cAAc,CAACK,QAAS,CAAC,CACrE,CAAEwD,EAAE,CAAE,OAAO,CAAEC,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE/D,cAAc,CAACM,KAAM,CAAC,CAC5D,CAAEuD,EAAE,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAS,CAAEC,KAAK,CAAE/D,cAAc,CAACO,OAAQ,CAAC,CAClE,CAAEsD,EAAE,CAAE,aAAa,CAAEC,KAAK,CAAE,MAAM,CAAEC,KAAK,CAAE/D,cAAc,CAACQ,WAAY,CAAC,CACxE,CAED,KAAM,CAAAwD,OAAO,CAAG,CACd,CAAEC,GAAG,CAAE,UAAU,CAAEH,KAAK,CAAE,UAAU,CAAEI,MAAM,CAAGC,CAAC,eAAK7G,IAAA,SAAM8G,SAAS,gBAAAC,MAAA,CAAiBC,MAAM,CAACH,CAAC,CAAC,CAAC7B,WAAW,CAAC,CAAC,CAAG,CAAAiC,QAAA,CAAEJ,CAAC,CAAO,CAAE,CAAC,CAC5H,CAAEF,GAAG,CAAE,UAAU,CAAEH,KAAK,CAAE,UAAW,CAAC,CACtC,CAAEG,GAAG,CAAE,aAAa,CAAEH,KAAK,CAAE,aAAc,CAAC,CAC5C,CAAEG,GAAG,CAAE,YAAY,CAAEH,KAAK,CAAE,gBAAiB,CAAC,CAC9C,CAAEG,GAAG,CAAE,cAAc,CAAEH,KAAK,CAAE,kBAAmB,CAAC,CAClD,CAAEG,GAAG,CAAE,aAAa,CAAEH,KAAK,CAAE,aAAc,CAAC,CAC7C,CAED;AACA,KAAM,CAAAU,iBAAiB,CAAGA,CAACxB,QAAQ,CAAED,WAAW,GAAK,CACnD,KAAM,CAAA0B,WAAW,CAAG,CAClB,UAAU,CAAE,CACV,8EAA8E,CAC9E,gEAAgE,CAChE,2CAA2C,CAC3C,8CAA8C,CAC/C,CACD,aAAa,CAAE,CACb,uDAAuD,CACvD,qDAAqD,CACrD,wCAAwC,CACxC,6CAA6C,CAC9C,CACD,SAAS,CAAE,CACT,+CAA+C,CAC/C,yCAAyC,CACzC,kDAAkD,CAClD,iDAAiD,CAClD,CACD,SAAS,CAAE,CACT,qDAAqD,CACrD,gDAAgD,CAChD,iCAAiC,CACjC,0CAA0C,CAC3C,CACD,aAAa,CAAE,CACb,iDAAiD,CACjD,0CAA0C,CAC1C,iCAAiC,CACjC,mDAAmD,CACpD,CACD,QAAQ,CAAE,CACR,6BAA6B,CAC7B,6CAA6C,CAC7C,yCAAyC,CACzC,oCAAoC,CAExC,CAAC,CACD,MAAO,CAAAA,WAAW,CAACzB,QAAQ,CAAC,EAAIyB,WAAW,CAAC,aAAa,CAAC,CAC5D,CAAC,CAED;AACA,KAAM,CAAAC,iBAAiB,CAAGA,CAAC1B,QAAQ,CAAED,WAAW,GAAK,CACnD,KAAM,CAAA4B,YAAY,CAAG,CACnB,UAAU,CAAE,mFAAmF,CAC/F,aAAa,CAAE,2FAA2F,CAC1G,SAAS,CAAE,sFAAsF,CACjG,SAAS,CAAE,8EAA8E,CACzF,aAAa,CAAE,mEAAmE,CAClF,QAAQ,CAAE,8EACZ,CAAC,CACD,MAAO,CAAAA,YAAY,CAAC3B,QAAQ,CAAC,EAAI,+CAA+C,CAClF,CAAC,CAED,KAAM,CAAA4B,cAAc,CAAIzE,KAAK,EAAK,CAChC,GAAI,CAACA,KAAK,CAAE,OACZnB,gBAAgB,CAACmB,KAAK,CAAC,CACvBf,wBAAwB,CAAC,CAAC,CAAC,CAC7B,CAAC,CAEDjC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA0H,SAAS,CAAIC,CAAC,EAAK,CACvB,GAAIA,CAAC,CAACb,GAAG,GAAK,QAAQ,CAAE,CACtBjF,gBAAgB,CAAC,IAAI,CAAC,CACxB,CACF,CAAC,CACD+F,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEH,SAAS,CAAC,CAC7C,MAAO,IAAME,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAEJ,SAAS,CAAC,CAC/D,CAAC,CAAE,EAAE,CAAC,CAEN,mBACErH,KAAA,QAAK4G,SAAS,CAAC,QAAQ,CAAAG,QAAA,eACrB/G,KAAA,QAAK4G,SAAS,CAAC,eAAe,CAAAG,QAAA,eAC5B/G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,OAAAiH,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBjH,IAAA,MAAAiH,QAAA,CAAG,gDAA8C,CAAG,CAAC,EAClD,CAAC,cACN/G,KAAA,QAAK4G,SAAS,CAAC,iBAAiB,CAAAG,QAAA,eAE9B/G,KAAA,QAAK4G,SAAS,CAAC,YAAY,CAAAG,QAAA,eACzBjH,IAAA,SAAM8G,SAAS,CAAC,aAAa,CAAAG,QAAA,CAAC,cAAE,CAAM,CAAC,cACvCjH,IAAA,UACE4H,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAEzG,WAAY,CACnB0G,QAAQ,CAAGP,CAAC,EAAK,CACflG,cAAc,CAACkG,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAC,CAC9BtG,cAAc,CAAC,CAAC,CAAC,CACnB,CAAE,CACFsF,SAAS,CAAC,cAAc,CACzB,CAAC,EACC,CAAC,cAGN5G,KAAA,WACE4H,KAAK,CAAEnH,YAAa,CACpBoH,QAAQ,CAAGP,CAAC,EAAK,CACf5G,eAAe,CAAC4G,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAC,CAC/BtG,cAAc,CAAC,CAAC,CAAC,CACnB,CAAE,CACFsF,SAAS,CAAC,sBAAsB,CAAAG,QAAA,eAEhC/G,KAAA,WAAQ4H,KAAK,CAAC,KAAK,CAAAb,QAAA,EAAC,eAAa,CAACjF,OAAO,CAACwB,MAAM,CAAC,GAAC,EAAQ,CAAC,CAC1DxB,OAAO,CAACoB,GAAG,CAAC6E,MAAM,eACjBjI,IAAA,WAAqB8H,KAAK,CAAEG,MAAO,CAAAhB,QAAA,CAChCgB,MAAM,EADIA,MAEL,CACT,CAAC,EACI,CAAC,cAGT/H,KAAA,QAAK4G,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BjH,IAAA,UAAO8G,SAAS,CAAC,YAAY,CAAAG,QAAA,CAAC,MAAI,CAAO,CAAC,cAC1CjH,IAAA,UACE4H,IAAI,CAAC,MAAM,CACXE,KAAK,CAAEjH,QAAS,CAChBkH,QAAQ,CAAGP,CAAC,EAAK,CACf1G,WAAW,CAAC0G,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAC,CAC3BtG,cAAc,CAAC,CAAC,CAAC,CACnB,CAAE,CACFsF,SAAS,CAAC,YAAY,CACvB,CAAC,cACF9G,IAAA,UAAO8G,SAAS,CAAC,YAAY,CAAAG,QAAA,CAAC,IAAE,CAAO,CAAC,cACxCjH,IAAA,UACE4H,IAAI,CAAC,MAAM,CACXE,KAAK,CAAE/G,MAAO,CACdgH,QAAQ,CAAGP,CAAC,EAAK,CACfxG,SAAS,CAACwG,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAC,CACzBtG,cAAc,CAAC,CAAC,CAAC,CACnB,CAAE,CACFsF,SAAS,CAAC,YAAY,CACvB,CAAC,EACC,CAAC,cAGN5G,KAAA,WACE4H,KAAK,CAAE7G,MAAO,CACd8G,QAAQ,CAAGP,CAAC,EAAKtG,SAAS,CAACsG,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAE,CAC3ChB,SAAS,CAAC,sBAAsB,CAAAG,QAAA,eAEhCjH,IAAA,WAAQ8H,KAAK,CAAC,aAAa,CAAAb,QAAA,CAAC,mBAAiB,CAAQ,CAAC,cACtDjH,IAAA,WAAQ8H,KAAK,CAAC,UAAU,CAAAb,QAAA,CAAC,gBAAc,CAAQ,CAAC,cAChDjH,IAAA,WAAQ8H,KAAK,CAAC,UAAU,CAAAb,QAAA,CAAC,gBAAc,CAAQ,CAAC,EAC1C,CAAC,cAGTjH,IAAA,WACE8G,SAAS,CAAC,gBAAgB,CAC1BoB,OAAO,CAAEA,CAAA,GAAM9G,YAAY,CAACD,SAAS,GAAK,KAAK,CAAG,MAAM,CAAG,KAAK,CAAE,CAClEgH,KAAK,CAAEhH,SAAS,GAAK,KAAK,CAAG,WAAW,CAAG,YAAa,CAAA8F,QAAA,CAEvD9F,SAAS,GAAK,KAAK,CAAG,GAAG,CAAG,GAAG,CAC1B,CAAC,EACN,CAAC,EACH,CAAC,cAGNjB,KAAA,QAAK4G,SAAS,CAAC,kBAAkB,CAAAG,QAAA,eAC/B/G,KAAA,QAAK4G,SAAS,CAAC,wBAAwB,CAAAG,QAAA,eACrCjH,IAAA,QAAK8G,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAC,cAAE,CAAK,CAAC,cACvC/G,KAAA,QAAK4G,SAAS,CAAC,eAAe,CAAAG,QAAA,eAC5BjH,IAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAEvE,cAAc,CAACK,QAAQ,CAAM,CAAC,cAC/D/C,IAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAC,UAAQ,CAAK,CAAC,EAC3C,CAAC,EACH,CAAC,cACN/G,KAAA,QAAK4G,SAAS,CAAC,qBAAqB,CAAAG,QAAA,eAClCjH,IAAA,QAAK8G,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAC,cAAE,CAAK,CAAC,cACvC/G,KAAA,QAAK4G,SAAS,CAAC,eAAe,CAAAG,QAAA,eAC5BjH,IAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAEvE,cAAc,CAACM,KAAK,CAAM,CAAC,cAC5DhD,IAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAC,OAAK,CAAK,CAAC,EACxC,CAAC,EACH,CAAC,cACN/G,KAAA,QAAK4G,SAAS,CAAC,uBAAuB,CAAAG,QAAA,eACpCjH,IAAA,QAAK8G,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAC,cAAE,CAAK,CAAC,cACvC/G,KAAA,QAAK4G,SAAS,CAAC,eAAe,CAAAG,QAAA,eAC5BjH,IAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAEvE,cAAc,CAACO,OAAO,CAAM,CAAC,cAC9DjD,IAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAC,SAAO,CAAK,CAAC,EAC1C,CAAC,EACH,CAAC,cACN/G,KAAA,QAAK4G,SAAS,CAAC,oBAAoB,CAAAG,QAAA,eACjCjH,IAAA,QAAK8G,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAC,cAAE,CAAK,CAAC,cACvC/G,KAAA,QAAK4G,SAAS,CAAC,eAAe,CAAAG,QAAA,eAC5BjH,IAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAEvE,cAAc,CAACQ,WAAW,CAAM,CAAC,cAClElD,IAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAC,MAAI,CAAK,CAAC,EACvC,CAAC,EACH,CAAC,EACH,CAAC,cAGNjH,IAAA,QAAK8G,SAAS,CAAC,aAAa,CAAAG,QAAA,CACzBX,IAAI,CAAClD,GAAG,CAACgF,CAAC,eACTlI,KAAA,WAEE4G,SAAS,eAAAC,MAAA,CAAgBtG,GAAG,GAAK2H,CAAC,CAAC7B,EAAE,CAAG,QAAQ,CAAG,EAAE,CAAG,CACxD2B,OAAO,CAAEA,CAAA,GAAM,CACbxH,MAAM,CAAC0H,CAAC,CAAC7B,EAAE,CAAC,CACZ/E,cAAc,CAAC,CAAC,CAAC,CACnB,CAAE,CAAAyF,QAAA,EAEDmB,CAAC,CAAC5B,KAAK,CAAC,GAAC,cAAAtG,KAAA,SAAM4G,SAAS,CAAC,WAAW,CAAAG,QAAA,EAAC,GAAC,CAACmB,CAAC,CAAC3B,KAAK,CAAC,GAAC,EAAM,CAAC,GAPnD2B,CAAC,CAAC7B,EAQD,CACT,CAAC,CACC,CAAC,cAGNrG,KAAA,QAAK4G,SAAS,CAAC,qBAAqB,CAAAG,QAAA,eAClC/G,KAAA,SAAA+G,QAAA,EAAM,UAAQ,CAACd,eAAe,CAAC3C,MAAM,CAAC,MAAI,CAACoB,QAAQ,CAACpB,MAAM,CAAC,SAAO,EAAM,CAAC,CACxEoB,QAAQ,CAACpB,MAAM,GAAK,CAACjD,MAAM,EAAI,EAAE,EAAEiD,MAAM,eACxCxD,IAAA,WACE8G,SAAS,CAAC,mBAAmB,CAC7BoB,OAAO,CAAEA,CAAA,GAAM,CACb5G,cAAc,CAAC,EAAE,CAAC,CAClBV,eAAe,CAAC,KAAK,CAAC,CACtBE,WAAW,CAAC,EAAE,CAAC,CACfE,SAAS,CAAC,EAAE,CAAC,CACbQ,cAAc,CAAC,CAAC,CAAC,CACnB,CAAE,CAAAyF,QAAA,CACH,eAED,CAAQ,CACT,EACE,CAAC,CAGLd,eAAe,CAAC3C,MAAM,CAAG,CAAC,cACzBtD,KAAA,CAAAE,SAAA,EAAA6G,QAAA,eACEjH,IAAA,CAACF,SAAS,EAAC4G,OAAO,CAAEA,OAAQ,CAAC2B,IAAI,CAAElC,eAAgB,CAACmC,UAAU,CAAEhB,cAAe,CAAE,CAAC,CAEjF7F,aAAa,eACZzB,IAAA,QAAK8G,SAAS,CAAC,cAAc,CAACoB,OAAO,CAAEA,CAAA,GAAMxG,gBAAgB,CAAC,IAAI,CAAE,CAAAuF,QAAA,cAClE/G,KAAA,QAAK4G,SAAS,CAAC,qBAAqB,CAACoB,OAAO,CAAGV,CAAC,EAAKA,CAAC,CAACe,eAAe,CAAC,CAAE,CAAAtB,QAAA,eACvE/G,KAAA,QAAK4G,SAAS,CAAC,sBAAsB,CAAAG,QAAA,eACnC/G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,MAAG8G,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAC,cAAY,CAAG,CAAC,cAC7CjH,IAAA,OAAAiH,QAAA,CAAKxF,aAAa,CAACgE,WAAW,CAAK,CAAC,EACjC,CAAC,cACNzF,IAAA,WAAQ8G,SAAS,CAAC,cAAc,CAACoB,OAAO,CAAEA,CAAA,GAAMxG,gBAAgB,CAAC,IAAI,CAAE,CAAC,aAAW,OAAO,CAAAuF,QAAA,CAAC,MAE3F,CAAQ,CAAC,EACN,CAAC,cAEN/G,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1B/G,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,UAAQ,CAAG,CAAC,cACjCjH,IAAA,SAAM8G,SAAS,gBAAAC,MAAA,CAAiBC,MAAM,CAACvF,aAAa,CAACqB,QAAQ,CAAC,CAACkC,WAAW,CAAC,CAAC,GAAK,aAAa,CAAG,MAAM,CAAGgC,MAAM,CAACvF,aAAa,CAACqB,QAAQ,CAAC,CAACkC,WAAW,CAAC,CAAC,CAAG,CAAAiC,QAAA,CAAExF,aAAa,CAACqB,QAAQ,CAAO,CAAC,EACtL,CAAC,cACN5C,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,UAAQ,CAAG,CAAC,cACjCjH,IAAA,SAAAiH,QAAA,CAAOxF,aAAa,CAACiE,QAAQ,CAAO,CAAC,EAClC,CAAC,cACNxF,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,aAAW,CAAG,CAAC,cACpCjH,IAAA,SAAM8G,SAAS,CAAC,YAAY,CAAAG,QAAA,CAAExF,aAAa,CAACuE,WAAW,CAAO,CAAC,EAC5D,CAAC,cACN9F,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,gBAAc,CAAG,CAAC,cACvCjH,IAAA,SAAM8G,SAAS,CAAC,YAAY,CAAAG,QAAA,CAAExF,aAAa,CAAC4B,UAAU,CAAO,CAAC,EAC3D,CAAC,cACNnD,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,kBAAgB,CAAG,CAAC,cACzCjH,IAAA,SAAM8G,SAAS,CAAC,YAAY,CAAAG,QAAA,CAAExF,aAAa,CAACiC,YAAY,CAAO,CAAC,EAC7D,CAAC,cACNxD,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,YAAU,CAAG,CAAC,cACnCjH,IAAA,SAAAiH,QAAA,CAAOxF,aAAa,CAACgD,SAAS,EAAI,SAAS,CAAO,CAAC,EAChD,CAAC,EACH,CAAC,cAENvE,KAAA,QAAK4G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,qBAAmB,CAAG,CAAC,cAC5CjH,IAAA,MAAAiH,QAAA,CAAIxF,aAAa,CAAC+G,SAAS,EAAI/G,aAAa,CAAC+G,SAAS,GAAK,KAAK,CAC5D/G,aAAa,CAAC+G,SAAS,CACvBpB,iBAAiB,CAAC3F,aAAa,CAACiE,QAAQ,CAAEjE,aAAa,CAACgE,WAAW,CAAC,CAAI,CAAC,EAC1E,CAAC,cAENvF,KAAA,QAAK4G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,sBAAoB,CAAG,CAAC,CAC5C,CAAC,IAAM,CACN,KAAM,CAAAwB,SAAS,CAAGhH,aAAa,CAACiH,QAAQ,EAAIjH,aAAa,CAACiH,QAAQ,GAAK,KAAK,CACxEnG,KAAK,CAACe,OAAO,CAAC7B,aAAa,CAACiH,QAAQ,CAAC,CACnCjH,aAAa,CAACiH,QAAQ,CACtB,CAACjH,aAAa,CAACiH,QAAQ,CAAC,CAC1BxB,iBAAiB,CAACzF,aAAa,CAACiE,QAAQ,CAAEjE,aAAa,CAACgE,WAAW,CAAC,CAExE,mBACEvF,KAAA,QAAA+G,QAAA,eACEjH,IAAA,MAAAiH,QAAA,CAAIwB,SAAS,CAAC5G,qBAAqB,CAAC,CAAI,CAAC,CACxC4G,SAAS,CAACjF,MAAM,CAAG,CAAC,eACnBtD,KAAA,QAAK4G,SAAS,CAAC,qBAAqB,CAAC6B,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAA3B,QAAA,eAChEjH,IAAA,WACE8G,SAAS,CAAC,kBAAkB,CAC5BoB,OAAO,CAAEA,CAAA,GAAMpG,wBAAwB,CAACsC,IAAI,CAACG,GAAG,CAAC,CAAC,CAAE1C,qBAAqB,CAAG,CAAC,CAAC,CAAE,CAChFgH,QAAQ,CAAEhH,qBAAqB,GAAK,CAAE,CAAAoF,QAAA,CACvC,iBAED,CAAQ,CAAC,cACTjH,IAAA,SAAM8G,SAAS,CAAC,eAAe,CAAAG,QAAA,CAC5BwB,SAAS,CAACrF,GAAG,CAAC,CAAC0F,CAAC,CAAEC,GAAG,gBACpB/I,IAAA,WAEE8G,SAAS,QAAAC,MAAA,CAASgC,GAAG,GAAKlH,qBAAqB,CAAG,QAAQ,CAAG,EAAE,CAAG,CAClEqG,OAAO,CAAEA,CAAA,GAAMpG,wBAAwB,CAACiH,GAAG,CAAE,EAFxCA,GAGN,CACF,CAAC,CACE,CAAC,cACP/I,IAAA,WACE8G,SAAS,CAAC,kBAAkB,CAC5BoB,OAAO,CAAEA,CAAA,GAAMpG,wBAAwB,CAACsC,IAAI,CAACC,GAAG,CAACoE,SAAS,CAACjF,MAAM,CAAG,CAAC,CAAE3B,qBAAqB,CAAG,CAAC,CAAC,CAAE,CACnGgH,QAAQ,CAAEhH,qBAAqB,GAAK4G,SAAS,CAACjF,MAAM,CAAG,CAAE,CAAAyD,QAAA,CAC1D,aAED,CAAQ,CAAC,EACN,CACN,EACE,CAAC,CAEV,CAAC,EAAE,CAAC,EACD,CAAC,CAEL,CAACxF,aAAa,CAAC8B,aAAa,EAAI9B,aAAa,CAACkC,eAAe,gBAC5DzD,KAAA,QAAK4G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,0BAAwB,CAAG,CAAC,cACjD/G,KAAA,QAAK4G,SAAS,CAAC,iBAAiB,CAAAG,QAAA,eAC9BjH,IAAA,SAAM8G,SAAS,CAAC,aAAa,CAAAG,QAAA,CAAC,cAAE,CAAM,CAAC,cACvCjH,IAAA,UACE4H,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,gCAAgC,CAC5CC,KAAK,CAAEnG,kBAAmB,CAC1BoG,QAAQ,CAAGP,CAAC,EAAK5F,qBAAqB,CAAC4F,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAE,CACvDhB,SAAS,CAAC,mBAAmB,CAC9B,CAAC,EACC,CAAC,cACN9G,IAAA,QAAK8G,SAAS,CAAC,iBAAiB,CAAAG,QAAA,CAC7BxF,aAAa,CAACoC,OAAO,EAAIpC,aAAa,CAACoC,OAAO,CAACL,MAAM,CAAG,CAAC,CACxD/B,aAAa,CAACoC,OAAO,CAClBlB,MAAM,CAAC,CAACC,GAAG,CAAEoG,MAAM,GAAK,CACvB,KAAM,CAAArC,GAAG,IAAAI,MAAA,CAAMiC,MAAM,CAACC,IAAI,MAAAlC,MAAA,CAAIiC,MAAM,CAACE,MAAM,CAAE,CAC7C,GAAI,CAACtG,GAAG,CAACuG,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACzC,GAAG,GAAKA,GAAG,CAAC,CAAE,CACvC/D,GAAG,CAACyG,IAAI,CAAC,CAAE1C,GAAG,CAAEsC,IAAI,CAAED,MAAM,CAACC,IAAI,CAAEhB,MAAM,CAAEe,MAAM,CAACE,MAAO,CAAC,CAAC,CAC7D,CACA,MAAO,CAAAtG,GAAG,CACZ,CAAC,CAAE,EAAE,CAAC,CACLoB,MAAM,CAACoF,IAAI,EACVA,IAAI,CAACH,IAAI,CAACjE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtD,kBAAkB,CAACqD,WAAW,CAAC,CAAC,CAAC,EAClEoE,IAAI,CAACnB,MAAM,CAACjD,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtD,kBAAkB,CAACqD,WAAW,CAAC,CAAC,CACrE,CAAC,CACA5B,GAAG,CAAC,CAACgG,IAAI,CAAEL,GAAG,gBACb/I,IAAA,QAAe8G,SAAS,CAAC,WAAW,CAAAG,QAAA,cAClCjH,IAAA,QAAK8G,SAAS,CAAC,mBAAmB,CAAAG,QAAA,cAChC/G,KAAA,QAAK4G,SAAS,CAAC,kBAAkB,CAAAG,QAAA,eAC/B/G,KAAA,SAAM4G,SAAS,CAAC,cAAc,CAAAG,QAAA,EAAC,eAAG,CAACmC,IAAI,CAACH,IAAI,EAAO,CAAC,cACpD/I,KAAA,SAAM4G,SAAS,CAAC,kBAAkB,CAAAG,QAAA,EAAC,qBAAI,CAACmC,IAAI,CAACnB,MAAM,EAAO,CAAC,EACxD,CAAC,CACH,CAAC,EANEc,GAOL,CACN,CAAC,cAEJ/I,IAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAG,QAAA,cACxBjH,IAAA,SAAM8G,SAAS,CAAC,WAAW,CAAAG,QAAA,CAAC,0BAAwB,CAAM,CAAC,CACxD,CACN,CACE,CAAC,EACH,CACN,CAEAxF,aAAa,CAACoC,OAAO,EAAIpC,aAAa,CAACoC,OAAO,CAACL,MAAM,CAAG,CAAC,eACxDtD,KAAA,QAAK4G,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BjH,IAAA,MAAG8G,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,eAAa,CAAG,CAAC,cACtCjH,IAAA,QAAK8G,SAAS,CAAC,cAAc,CAAAG,QAAA,CAC1BxF,aAAa,CAACoC,OAAO,CAACwC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACjD,GAAG,CAAC,CAAChB,CAAC,CAAE2G,GAAG,GAAK,CACjD,KAAM,CAAAO,UAAU,CAAG,GAAI,CAAAxF,IAAI,CAAC1B,CAAC,CAAC2B,SAAS,CAAC,CACxC,KAAM,CAAAwF,OAAO,CAAGrF,KAAK,CAACoF,UAAU,CAACE,OAAO,CAAC,CAAC,CAAC,CAAG,KAAK,CAAGF,UAAU,CAAC5E,cAAc,CAAC,CAAC,CACjF,mBACExE,KAAA,QAAe4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eACpC/G,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,EAAEsC,OAAO,CAAC,UAAG,CAACnH,CAAC,CAAC8G,MAAM,CAAC,UAAG,CAAC9G,CAAC,CAAC6G,IAAI,EAAM,CAAC,cACpEjJ,IAAA,QAAK8G,SAAS,CAAC,aAAa,CAAAG,QAAA,CAAE7E,CAAC,CAACqH,OAAO,EAAI,WAAW,CAAM,CAAC,GAFrDV,GAGL,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,CACH,CACN,CAGA9C,UAAU,CAAG,CAAC,eACb/F,KAAA,QAAK4G,SAAS,CAAC,qBAAqB,CAAAG,QAAA,eAClCjH,IAAA,WACE8G,SAAS,CAAC,gBAAgB,CAC1BoB,OAAO,CAAEA,CAAA,GAAM1G,cAAc,CAAC,CAAC,CAAE,CACjCqH,QAAQ,CAAEtH,WAAW,GAAK,CAAE,CAAA0F,QAAA,CAC7B,oBAED,CAAQ,CAAC,cACTjH,IAAA,WACE8G,SAAS,CAAC,gBAAgB,CAC1BoB,OAAO,CAAEA,CAAA,GAAM1G,cAAc,CAACD,WAAW,CAAG,CAAC,CAAE,CAC/CsH,QAAQ,CAAEtH,WAAW,GAAK,CAAE,CAAA0F,QAAA,CAC7B,iBAED,CAAQ,CAAC,cACT/G,KAAA,QAAK4G,SAAS,CAAC,iBAAiB,CAAAG,QAAA,EAAC,OAC1B,CAAC1F,WAAW,CAAC,MAAI,CAAC0E,UAAU,EAC9B,CAAC,cACNjG,IAAA,WACE8G,SAAS,CAAC,gBAAgB,CAC1BoB,OAAO,CAAEA,CAAA,GAAM1G,cAAc,CAACD,WAAW,CAAG,CAAC,CAAE,CAC/CsH,QAAQ,CAAEtH,WAAW,GAAK0E,UAAW,CAAAgB,QAAA,CACtC,aAED,CAAQ,CAAC,cACTjH,IAAA,WACE8G,SAAS,CAAC,gBAAgB,CAC1BoB,OAAO,CAAEA,CAAA,GAAM1G,cAAc,CAACyE,UAAU,CAAE,CAC1C4C,QAAQ,CAAEtH,WAAW,GAAK0E,UAAW,CAAAgB,QAAA,CACtC,mBAED,CAAQ,CAAC,EACN,CACN,EACD,CAAC,cAEH/G,KAAA,QAAK4G,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1BjH,IAAA,SAAM8G,SAAS,CAAC,YAAY,CAAAG,QAAA,CAAC,QAAC,CAAM,CAAC,cACrCjH,IAAA,OAAAiH,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBjH,IAAA,MAAAiH,QAAA,CAAG,sCAAoC,CAAG,CAAC,EACxC,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}