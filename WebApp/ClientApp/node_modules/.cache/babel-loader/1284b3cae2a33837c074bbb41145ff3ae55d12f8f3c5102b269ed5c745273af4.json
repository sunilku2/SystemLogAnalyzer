{"ast":null,"code":"import React,{useState,useMemo}from'react';import'./Dashboard.css';import FiltersBar from'./FiltersBar';import HealthScore from'./HealthScore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(_ref){let{analysisResult,sessions,isAnalyzing,onNavigate}=_ref;const[selectedIssue,setSelectedIssue]=useState(null);const[timeRange,setTimeRange]=useState('24h');const[searchQuery,setSearchQuery]=useState('');const[autoRefresh,setAutoRefresh]=useState(false);const topIssues=useMemo(()=>{if(!(analysisResult!==null&&analysisResult!==void 0&&analysisResult.issues))return[];return analysisResult.issues.slice(0,6);},[analysisResult]);const issuesByCategory=useMemo(()=>{if(!(analysisResult!==null&&analysisResult!==void 0&&analysisResult.issues))return{};return analysisResult.issues.reduce((acc,issue)=>{if(!acc[issue.category]){acc[issue.category]=[];}acc[issue.category].push(issue);return acc;},{});},[analysisResult]);// Move all hooks (useMemo) above any early returns to satisfy rules-of-hooks\nconst activeAlerts=useMemo(()=>{const list=(analysisResult===null||analysisResult===void 0?void 0:analysisResult.issues)||[];return list.filter(i=>['Critical','Error','Warning'].includes(i.severity)).length;},[analysisResult]);const topAlerts=useMemo(()=>{const list=(analysisResult===null||analysisResult===void 0?void 0:analysisResult.issues)||[];const sevRank={Critical:0,Error:1,Warning:2,Information:3};return[...list].sort((a,b)=>sevRank[a.severity]-sevRank[b.severity]||b.occurrences-a.occurrences).slice(0,5);},[analysisResult]);const devicesAgg=useMemo(()=>{const sess=(sessions===null||sessions===void 0?void 0:sessions.sessions)||[];const systems=new Map();sess.forEach(s=>{const v=systems.get(s.systemName)||{systemName:s.systemName,users:new Set(),sessions:0};v.users.add(s.userId);v.sessions+=1;systems.set(s.systemName,v);});const issuesBySystem=new Map();((analysisResult===null||analysisResult===void 0?void 0:analysisResult.issues)||[]).forEach(i=>(i.affectedSystems||[]).forEach(sys=>issuesBySystem.set(sys,(issuesBySystem.get(sys)||0)+1)));return[...systems.values()].map(v=>({systemName:v.systemName,users:v.users.size,sessions:v.sessions,issues:issuesBySystem.get(v.systemName)||0})).sort((a,b)=>b.issues-a.issues||b.sessions-a.sessions).slice(0,5);},[sessions,analysisResult]);const usersAgg=useMemo(()=>{const sess=(sessions===null||sessions===void 0?void 0:sessions.sessions)||[];const usersMap=new Map();sess.forEach(s=>{const v=usersMap.get(s.userId)||{userId:s.userId,systems:new Set(),sessions:0};v.systems.add(s.systemName);v.sessions+=1;usersMap.set(s.userId,v);});const issuesByUser=new Map();((analysisResult===null||analysisResult===void 0?void 0:analysisResult.issues)||[]).forEach(i=>(i.affectedUsers||[]).forEach(u=>issuesByUser.set(u,(issuesByUser.get(u)||0)+1)));return[...usersMap.values()].map(v=>({userId:v.userId,systems:v.systems.size,sessions:v.sessions,issues:issuesByUser.get(v.userId)||0})).sort((a,b)=>b.issues-a.issues||b.sessions-a.sessions).slice(0,5);},[sessions,analysisResult]);if(isAnalyzing){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Analyzing Logs...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please wait while we process your log files\"})]});}if(!analysisResult){return/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"No Analysis Available\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Run an analysis to see insights and statistics\"})]});}const analysis=analysisResult.analysis;const issues=analysisResult.issues;const statistics=analysisResult.statistics;return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(FiltersBar,{timeRange:timeRange,onTimeRangeChange:setTimeRange,searchQuery:searchQuery,onSearchChange:setSearchQuery,autoRefresh:autoRefresh,onAutoRefreshToggle:setAutoRefresh,onExport:()=>{// simple CSV export of issues\ntry{const rows=(issues||[]).map(i=>[i.issueId,i.severity,i.category,i.description,i.occurrences]);const header=['IssueId','Severity','Category','Description','Occurrences'];const csv=[header,...rows].map(r=>r.map(x=>\"\\\"\".concat(String(x).replace(/\"/g,'\"\"'),\"\\\"\")).join(',')).join('\\n');const blob=new Blob([csv],{type:'text/csv;charset=utf-8;'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='issues.csv';a.click();URL.revokeObjectURL(url);}catch(_unused){}}}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-hero\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hero-text\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyebrow\",children:\"Employee Device Fleet\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Fleet Health & Status\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"subhead\",children:[\"Generated \",new Date(analysis.generated_at).toLocaleString(),\" \\u2022 Model \",analysis.model_used]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-badges\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"pill\",children:[\"Devices \",analysis.total_logs_processed.toLocaleString()]}),/*#__PURE__*/_jsxs(\"span\",{className:\"pill pill-ghost\",children:[\"Issues \",analysis.issues_found]}),/*#__PURE__*/_jsxs(\"span\",{className:\"pill pill-ghost\",children:[\"LLM \",analysis.llm_used?'On':'Off']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 modern-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-card glass\",style:{gridColumn:'span 1'},children:/*#__PURE__*/_jsx(HealthScore,{statistics:statistics})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card glass\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:analysis.total_users_analyzed}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Employees\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card glass\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCBB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:analysis.total_systems_analyzed}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Devices\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card glass capability-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:Object.keys(statistics.by_category).length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Categories\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capability-tooltip\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tooltip-title\",children:\"Monitored Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"capability-list\",children:Object.keys(statistics.by_category).map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"capability-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"capability-bullet\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:category})]},category))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card glass\",style:{gridColumn:'span 1'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:activeAlerts}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Active Alerts\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"quick-links-grid\",children:[{id:'systems',icon:'ÔøΩ',label:'All Devices'},{id:'users',icon:'üë§',label:'By Employee'},{id:'applications',icon:'üì¶',label:'Software'},{id:'locations',icon:'üìç',label:'Locations'},{id:'alerts',icon:'üö®',label:'Alerts'},{id:'network',icon:'üåê',label:'Network'},{id:'bootlogon',icon:'‚ö°',label:'Performance'},{id:'trends',icon:'üìà',label:'Analytics'},{id:'reports',icon:'üìã',label:'Reports'}].map(link=>/*#__PURE__*/_jsxs(\"button\",{className:\"quick-link\",onClick:()=>onNavigate&&onNavigate(link.id),children:[/*#__PURE__*/_jsx(\"span\",{className:\"quick-link-icon\",children:link.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"quick-link-label\",children:link.label})]},link.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 modern-grid\",children:[statistics.by_severity.critical>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card severity-critical\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"severity-icon\",children:\"\\uD83D\\uDD34\"}),/*#__PURE__*/_jsx(\"span\",{className:\"severity-badge\",children:\"Critical\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-card-value\",children:statistics.by_severity.critical}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-card-label\",children:\"Critical Issues\"})]}),statistics.by_severity.error>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card severity-error\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"severity-icon\",children:\"\\uD83D\\uDFE0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"severity-badge\",children:\"Error\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-card-value\",children:statistics.by_severity.error}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-card-label\",children:\"Error Issues\"})]}),statistics.by_severity.warning>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card severity-warning\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"severity-icon\",children:\"\\uD83D\\uDFE1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"severity-badge\",children:\"Warning\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-card-value\",children:statistics.by_severity.warning}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-card-label\",children:\"Warning Issues\"})]}),statistics.by_severity.information>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card severity-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"severity-card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"severity-icon\",children:\"\\uD83D\\uDD35\"}),/*#__PURE__*/_jsx(\"span\",{className:\"severity-badge\",children:\"Info\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-card-value\",children:statistics.by_severity.information}),/*#__PURE__*/_jsx(\"div\",{className:\"severity-card-label\",children:\"Information Issues\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Recent Alerts\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mini-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mini-row mini-head\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Severity\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Occurrences\"})]}),topAlerts.map(a=>/*#__PURE__*/_jsxs(\"div\",{className:\"mini-row\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(a.severity.toLowerCase()),children:a.severity})}),/*#__PURE__*/_jsx(\"div\",{className:\"ellipsis\",children:a.description}),/*#__PURE__*/_jsx(\"div\",{children:a.occurrences})]},a.issueId)),topAlerts.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-small\",children:\"No alerts yet\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 modern-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Top Impacted Devices\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mini-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mini-row mini-head\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Device\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Users\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Sessions\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Issues\"})]}),devicesAgg.map(d=>/*#__PURE__*/_jsxs(\"div\",{className:\"mini-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ellipsis\",children:d.systemName}),/*#__PURE__*/_jsx(\"div\",{children:d.users}),/*#__PURE__*/_jsx(\"div\",{children:d.sessions}),/*#__PURE__*/_jsx(\"div\",{children:d.issues})]},d.systemName)),devicesAgg.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-small\",children:\"No device data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Top Impacted Users\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mini-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mini-row mini-head\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"User\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Systems\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Sessions\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Issues\"})]}),usersAgg.map(u=>/*#__PURE__*/_jsxs(\"div\",{className:\"mini-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ellipsis\",children:u.userId}),/*#__PURE__*/_jsx(\"div\",{children:u.systems}),/*#__PURE__*/_jsx(\"div\",{children:u.sessions}),/*#__PURE__*/_jsx(\"div\",{children:u.issues})]},u.userId)),usersAgg.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-small\",children:\"No user data\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Issues by Category\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"category-list\",children:Object.entries(issuesByCategory).map(_ref2=>{let[category,categoryIssues]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"category-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-name\",children:category}),/*#__PURE__*/_jsx(\"span\",{className:\"category-count\",children:categoryIssues.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"category-issues\",children:categoryIssues.map(issue=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"category-issue-item\",onClick:()=>setSelectedIssue(issue),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-issue-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(issue.severity.toLowerCase()),children:issue.severity}),/*#__PURE__*/_jsx(\"span\",{className:\"category-issue-title\",children:issue.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-issue-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"category-issue-count\",children:[issue.occurrences,\" occurrences\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"category-issue-arrow\",children:\"\\u2192\"})]})]},issue.issueId))})]},category);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Top Issues\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"top-issues\",children:topIssues.map((issue,index)=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"issue-card\",onClick:()=>setSelectedIssue(issue),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"issue-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"issue-rank\",children:[\"#\",index+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"issue-title\",children:issue.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(issue.severity.toLowerCase()),children:issue.severity}),/*#__PURE__*/_jsx(\"span\",{className:\"issue-category\",children:issue.category})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"issue-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:issue.userCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:issue.occurrences}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Occurrences\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-solution\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Solution:\"}),\" \",issue.solution]})]},issue.issueId))})]}),selectedIssue&&/*#__PURE__*/_jsx(\"div\",{className:\"issue-drawer\",onClick:()=>setSelectedIssue(null),children:/*#__PURE__*/_jsxs(\"div\",{className:\"issue-drawer__panel\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"issue-drawer__header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"drawer-kicker\",children:\"Issue Detail\"}),/*#__PURE__*/_jsx(\"h3\",{children:selectedIssue.description})]}),/*#__PURE__*/_jsx(\"button\",{className:\"drawer-close\",onClick:()=>setSelectedIssue(null),\"aria-label\":\"Close\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Severity\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(selectedIssue.severity.toLowerCase()),children:selectedIssue.severity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Category\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedIssue.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Occurrences\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:selectedIssue.occurrences})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Affected Users\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedIssue.affectedUsers.join(', ')||'‚Äî'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Affected Systems\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedIssue.affectedSystems.join(', ')||'‚Äî'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-section\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Root Cause\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedIssue.rootCause||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-section\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Recommended Fix\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedIssue.solution||'Not provided'})]})]})})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useMemo","FiltersBar","HealthScore","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","analysisResult","sessions","isAnalyzing","onNavigate","selectedIssue","setSelectedIssue","timeRange","setTimeRange","searchQuery","setSearchQuery","autoRefresh","setAutoRefresh","topIssues","issues","slice","issuesByCategory","reduce","acc","issue","category","push","activeAlerts","list","filter","i","includes","severity","length","topAlerts","sevRank","Critical","Error","Warning","Information","sort","a","b","occurrences","devicesAgg","sess","systems","Map","forEach","s","v","get","systemName","users","Set","add","userId","set","issuesBySystem","affectedSystems","sys","values","map","size","usersAgg","usersMap","issuesByUser","affectedUsers","u","className","children","analysis","statistics","onTimeRangeChange","onSearchChange","onAutoRefreshToggle","onExport","rows","issueId","description","header","csv","r","x","concat","String","replace","join","blob","Blob","type","url","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","_unused","Date","generated_at","toLocaleString","model_used","total_logs_processed","issues_found","llm_used","style","gridColumn","total_users_analyzed","total_systems_analyzed","Object","keys","by_category","id","icon","label","link","onClick","by_severity","critical","error","warning","information","toLowerCase","d","entries","_ref2","categoryIssues","index","userCount","solution","e","stopPropagation","rootCause"],"sources":["C:/Work/UserSystemLogAnalyzer/WebApp/ClientApp/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport './Dashboard.css';\r\nimport FiltersBar from './FiltersBar';\r\nimport HealthScore from './HealthScore';\r\n\r\nfunction Dashboard({ analysisResult, sessions, isAnalyzing, onNavigate }) {\r\n  const [selectedIssue, setSelectedIssue] = useState(null);\r\n  const [timeRange, setTimeRange] = useState('24h');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [autoRefresh, setAutoRefresh] = useState(false);\r\n\r\n  const topIssues = useMemo(() => {\r\n    if (!analysisResult?.issues) return [];\r\n    return analysisResult.issues.slice(0, 6);\r\n  }, [analysisResult]);\r\n\r\n  const issuesByCategory = useMemo(() => {\r\n    if (!analysisResult?.issues) return {};\r\n    return analysisResult.issues.reduce((acc, issue) => {\r\n      if (!acc[issue.category]) {\r\n        acc[issue.category] = [];\r\n      }\r\n      acc[issue.category].push(issue);\r\n      return acc;\r\n    }, {});\r\n  }, [analysisResult]);\r\n\r\n  // Move all hooks (useMemo) above any early returns to satisfy rules-of-hooks\r\n  const activeAlerts = useMemo(() => {\r\n    const list = analysisResult?.issues || [];\r\n    return list.filter(i => ['Critical','Error','Warning'].includes(i.severity)).length;\r\n  }, [analysisResult]);\r\n\r\n  const topAlerts = useMemo(() => {\r\n    const list = analysisResult?.issues || [];\r\n    const sevRank = { Critical: 0, Error: 1, Warning: 2, Information: 3 };\r\n    return [...list]\r\n      .sort((a,b) => (sevRank[a.severity] - sevRank[b.severity]) || (b.occurrences - a.occurrences))\r\n      .slice(0, 5);\r\n  }, [analysisResult]);\r\n\r\n  const devicesAgg = useMemo(() => {\r\n    const sess = sessions?.sessions || [];\r\n    const systems = new Map();\r\n    sess.forEach(s => {\r\n      const v = systems.get(s.systemName) || { systemName: s.systemName, users: new Set(), sessions: 0 };\r\n      v.users.add(s.userId);\r\n      v.sessions += 1;\r\n      systems.set(s.systemName, v);\r\n    });\r\n    const issuesBySystem = new Map();\r\n    (analysisResult?.issues || []).forEach(i => (i.affectedSystems || []).forEach(sys => issuesBySystem.set(sys, (issuesBySystem.get(sys)||0) + 1)));\r\n    return [...systems.values()].map(v => ({\r\n      systemName: v.systemName,\r\n      users: v.users.size,\r\n      sessions: v.sessions,\r\n      issues: issuesBySystem.get(v.systemName) || 0\r\n    })).sort((a,b) => b.issues - a.issues || b.sessions - a.sessions).slice(0,5);\r\n  }, [sessions, analysisResult]);\r\n\r\n  const usersAgg = useMemo(() => {\r\n    const sess = sessions?.sessions || [];\r\n    const usersMap = new Map();\r\n    sess.forEach(s => {\r\n      const v = usersMap.get(s.userId) || { userId: s.userId, systems: new Set(), sessions: 0 };\r\n      v.systems.add(s.systemName);\r\n      v.sessions += 1;\r\n      usersMap.set(s.userId, v);\r\n    });\r\n    const issuesByUser = new Map();\r\n    (analysisResult?.issues || []).forEach(i => (i.affectedUsers || []).forEach(u => issuesByUser.set(u, (issuesByUser.get(u)||0) + 1)));\r\n    return [...usersMap.values()].map(v => ({\r\n      userId: v.userId,\r\n      systems: v.systems.size,\r\n      sessions: v.sessions,\r\n      issues: issuesByUser.get(v.userId) || 0\r\n    })).sort((a,b) => b.issues - a.issues || b.sessions - a.sessions).slice(0,5);\r\n  }, [sessions, analysisResult]);\r\n\r\n  if (isAnalyzing) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner\"></div>\r\n        <h2>Analyzing Logs...</h2>\r\n        <p>Please wait while we process your log files</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!analysisResult) {\r\n    return (\r\n      <div className=\"empty-state\">\r\n        <div className=\"empty-icon\">üîç</div>\r\n        <h2>No Analysis Available</h2>\r\n        <p>Run an analysis to see insights and statistics</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const analysis = analysisResult.analysis;\r\n  const issues = analysisResult.issues;\r\n  const statistics = analysisResult.statistics;\r\n\r\n\r\n  return (\r\n      <div className=\"dashboard\">\r\n        <FiltersBar\r\n          timeRange={timeRange}\r\n          onTimeRangeChange={setTimeRange}\r\n          searchQuery={searchQuery}\r\n          onSearchChange={setSearchQuery}\r\n          autoRefresh={autoRefresh}\r\n          onAutoRefreshToggle={setAutoRefresh}\r\n          onExport={() => {\r\n            // simple CSV export of issues\r\n            try {\r\n              const rows = (issues || []).map(i => [i.issueId, i.severity, i.category, i.description, i.occurrences]);\r\n              const header = ['IssueId','Severity','Category','Description','Occurrences'];\r\n              const csv = [header, ...rows].map(r => r.map(x => `\"${String(x).replace(/\"/g,'\"\"')}\"`).join(',')).join('\\n');\r\n              const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n              const url = URL.createObjectURL(blob);\r\n              const a = document.createElement('a');\r\n              a.href = url; a.download = 'issues.csv'; a.click();\r\n              URL.revokeObjectURL(url);\r\n            } catch {}\r\n          }}\r\n        />\r\n        <div className=\"dashboard-hero\">\r\n          <div className=\"hero-text\">\r\n            <p className=\"eyebrow\">Employee Device Fleet</p>\r\n            <h2>Fleet Health & Status</h2>\r\n            <p className=\"subhead\">Generated {new Date(analysis.generated_at).toLocaleString()} ‚Ä¢ Model {analysis.model_used}</p>\r\n          </div>\r\n          <div className=\"hero-badges\">\r\n            <span className=\"pill\">Devices {analysis.total_logs_processed.toLocaleString()}</span>\r\n            <span className=\"pill pill-ghost\">Issues {analysis.issues_found}</span>\r\n            <span className=\"pill pill-ghost\">LLM {analysis.llm_used ? 'On' : 'Off'}</span>\r\n          </div>\r\n        </div>\r\n\r\n      {/* Stats + Health */}\r\n      <div className=\"grid grid-cols-4 modern-grid\">\r\n        <div className=\"stat-card glass\" style={{gridColumn: 'span 1'}}>\r\n          <HealthScore statistics={statistics} />\r\n        </div>\r\n        <div className=\"stat-card glass\">\r\n          <div className=\"stat-icon\">üë§</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{analysis.total_users_analyzed}</div>\r\n            <div className=\"stat-label\">Employees</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card glass\">\r\n          <div className=\"stat-icon\">üíª</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{analysis.total_systems_analyzed}</div>\r\n            <div className=\"stat-label\">Devices</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card glass capability-card\">\r\n          <div className=\"stat-icon\">üì¶</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{Object.keys(statistics.by_category).length}</div>\r\n            <div className=\"stat-label\">Categories</div>\r\n          </div>\r\n          <div className=\"capability-tooltip\">\r\n            <div className=\"tooltip-title\">Monitored Categories</div>\r\n            <div className=\"capability-list\">\r\n              {Object.keys(statistics.by_category).map((category) => (\r\n                <div key={category} className=\"capability-item\">\r\n                  <span className=\"capability-bullet\">‚Ä¢</span>\r\n                  <span>{category}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card glass\" style={{gridColumn: 'span 1'}}>\r\n          <div className=\"stat-icon\">‚ö†Ô∏è</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{activeAlerts}</div>\r\n            <div className=\"stat-label\">Active Alerts</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Links / Navigation Tiles */}\r\n      <div className=\"quick-links-grid\">\r\n        {[\r\n          { id: 'systems', icon: 'ÔøΩ', label: 'All Devices' },\r\n          { id: 'users', icon: 'üë§', label: 'By Employee' },\r\n          { id: 'applications', icon: 'üì¶', label: 'Software' },\r\n          { id: 'locations', icon: 'üìç', label: 'Locations' },\r\n          { id: 'alerts', icon: 'üö®', label: 'Alerts' },\r\n          { id: 'network', icon: 'üåê', label: 'Network' },\r\n          { id: 'bootlogon', icon: '‚ö°', label: 'Performance' },\r\n          { id: 'trends', icon: 'üìà', label: 'Analytics' },\r\n          { id: 'reports', icon: 'üìã', label: 'Reports' },\r\n        ].map(link => (\r\n          <button key={link.id} className=\"quick-link\" onClick={() => onNavigate && onNavigate(link.id)}>\r\n            <span className=\"quick-link-icon\">{link.icon}</span>\r\n            <span className=\"quick-link-label\">{link.label}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Severity Cards */}\r\n      <div className=\"grid grid-cols-4 modern-grid\">\r\n        {statistics.by_severity.critical > 0 && (\r\n          <div className=\"severity-card severity-critical\">\r\n            <div className=\"severity-card-header\">\r\n              <span className=\"severity-icon\">üî¥</span>\r\n              <span className=\"severity-badge\">Critical</span>\r\n            </div>\r\n            <div className=\"severity-card-value\">{statistics.by_severity.critical}</div>\r\n            <div className=\"severity-card-label\">Critical Issues</div>\r\n          </div>\r\n        )}\r\n        {statistics.by_severity.error > 0 && (\r\n          <div className=\"severity-card severity-error\">\r\n            <div className=\"severity-card-header\">\r\n              <span className=\"severity-icon\">üü†</span>\r\n              <span className=\"severity-badge\">Error</span>\r\n            </div>\r\n            <div className=\"severity-card-value\">{statistics.by_severity.error}</div>\r\n            <div className=\"severity-card-label\">Error Issues</div>\r\n          </div>\r\n        )}\r\n        {statistics.by_severity.warning > 0 && (\r\n          <div className=\"severity-card severity-warning\">\r\n            <div className=\"severity-card-header\">\r\n              <span className=\"severity-icon\">üü°</span>\r\n              <span className=\"severity-badge\">Warning</span>\r\n            </div>\r\n            <div className=\"severity-card-value\">{statistics.by_severity.warning}</div>\r\n            <div className=\"severity-card-label\">Warning Issues</div>\r\n          </div>\r\n        )}\r\n        {statistics.by_severity.information > 0 && (\r\n          <div className=\"severity-card severity-info\">\r\n            <div className=\"severity-card-header\">\r\n              <span className=\"severity-icon\">üîµ</span>\r\n              <span className=\"severity-badge\">Info</span>\r\n            </div>\r\n            <div className=\"severity-card-value\">{statistics.by_severity.information}</div>\r\n            <div className=\"severity-card-label\">Information Issues</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Alerts and Impacted Entities */}\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">Recent Alerts</h3>\r\n        </div>\r\n        <div className=\"mini-table\">\r\n          <div className=\"mini-row mini-head\">\r\n            <div>Severity</div>\r\n            <div>Description</div>\r\n            <div>Occurrences</div>\r\n          </div>\r\n          {topAlerts.map(a => (\r\n            <div key={a.issueId} className=\"mini-row\">\r\n              <div><span className={`badge badge-${a.severity.toLowerCase()}`}>{a.severity}</span></div>\r\n              <div className=\"ellipsis\">{a.description}</div>\r\n              <div>{a.occurrences}</div>\r\n            </div>\r\n          ))}\r\n          {topAlerts.length === 0 && (\r\n            <div className=\"empty-state-small\">No alerts yet</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 modern-grid\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h3 className=\"card-title\">Top Impacted Devices</h3>\r\n          </div>\r\n          <div className=\"mini-table\">\r\n            <div className=\"mini-row mini-head\">\r\n              <div>Device</div><div>Users</div><div>Sessions</div><div>Issues</div>\r\n            </div>\r\n            {devicesAgg.map(d => (\r\n              <div key={d.systemName} className=\"mini-row\">\r\n                <div className=\"ellipsis\">{d.systemName}</div>\r\n                <div>{d.users}</div>\r\n                <div>{d.sessions}</div>\r\n                <div>{d.issues}</div>\r\n              </div>\r\n            ))}\r\n            {devicesAgg.length === 0 && <div className=\"empty-state-small\">No device data</div>}\r\n          </div>\r\n        </div>\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h3 className=\"card-title\">Top Impacted Users</h3>\r\n          </div>\r\n          <div className=\"mini-table\">\r\n            <div className=\"mini-row mini-head\">\r\n              <div>User</div><div>Systems</div><div>Sessions</div><div>Issues</div>\r\n            </div>\r\n            {usersAgg.map(u => (\r\n              <div key={u.userId} className=\"mini-row\">\r\n                <div className=\"ellipsis\">{u.userId}</div>\r\n                <div>{u.systems}</div>\r\n                <div>{u.sessions}</div>\r\n                <div>{u.issues}</div>\r\n              </div>\r\n            ))}\r\n            {usersAgg.length === 0 && <div className=\"empty-state-small\">No user data</div>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Issues by Category */}\r\n      <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h3 className=\"card-title\">Issues by Category</h3>\r\n          </div>\r\n          <div className=\"category-list\">\r\n            {Object.entries(issuesByCategory).map(([category, categoryIssues]) => (\r\n              <div key={category} className=\"category-section\">\r\n                <div className=\"category-header\">\r\n                  <span className=\"category-name\">{category}</span>\r\n                  <span className=\"category-count\">{categoryIssues.length}</span>\r\n                </div>\r\n                <div className=\"category-issues\">\r\n                  {categoryIssues.map((issue) => (\r\n                    <button\r\n                      type=\"button\"\r\n                      key={issue.issueId}\r\n                      className=\"category-issue-item\"\r\n                      onClick={() => setSelectedIssue(issue)}\r\n                    >\r\n                      <div className=\"category-issue-content\">\r\n                        <span className={`badge badge-${issue.severity.toLowerCase()}`}>\r\n                          {issue.severity}\r\n                        </span>\r\n                        <span className=\"category-issue-title\">{issue.description}</span>\r\n                      </div>\r\n                      <div className=\"category-issue-stats\">\r\n                        <span className=\"category-issue-count\">{issue.occurrences} occurrences</span>\r\n                        <span className=\"category-issue-arrow\">‚Üí</span>\r\n                      </div>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n      </div>\r\n\r\n      {/* Top Issues */}\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">Top Issues</h3>\r\n        </div>\r\n        <div className=\"top-issues\">\r\n          {topIssues.map((issue, index) => (\r\n            <button\r\n              type=\"button\"\r\n              key={issue.issueId}\r\n              className=\"issue-card\"\r\n              onClick={() => setSelectedIssue(issue)}\r\n            >\r\n              <div className=\"issue-header\">\r\n                <div className=\"issue-rank\">#{index + 1}</div>\r\n                <div className=\"issue-info\">\r\n                  <h4 className=\"issue-title\">{issue.description}</h4>\r\n                  <div className=\"issue-meta\">\r\n                    <span className={`badge badge-${issue.severity.toLowerCase()}`}>\r\n                      {issue.severity}\r\n                    </span>\r\n                    <span className=\"issue-category\">{issue.category}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"issue-stats\">\r\n                  <div className=\"issue-stat\">\r\n                    <span className=\"stat-value\">{issue.userCount}</span>\r\n                    <span className=\"stat-label\">Users</span>\r\n                  </div>\r\n                  <div className=\"issue-stat\">\r\n                    <span className=\"stat-value\">{issue.occurrences}</span>\r\n                    <span className=\"stat-label\">Occurrences</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"issue-solution\">\r\n                <strong>Solution:</strong> {issue.solution}\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {selectedIssue && (\r\n        <div className=\"issue-drawer\" onClick={() => setSelectedIssue(null)}>\r\n          <div className=\"issue-drawer__panel\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"issue-drawer__header\">\r\n              <div>\r\n                <p className=\"drawer-kicker\">Issue Detail</p>\r\n                <h3>{selectedIssue.description}</h3>\r\n              </div>\r\n              <button className=\"drawer-close\" onClick={() => setSelectedIssue(null)} aria-label=\"Close\">\r\n                √ó\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"drawer-grid\">\r\n              <div className=\"drawer-card\">\r\n                <p className=\"label\">Severity</p>\r\n                <span className={`badge badge-${selectedIssue.severity.toLowerCase()}`}>{selectedIssue.severity}</span>\r\n              </div>\r\n              <div className=\"drawer-card\">\r\n                <p className=\"label\">Category</p>\r\n                <span>{selectedIssue.category}</span>\r\n              </div>\r\n              <div className=\"drawer-card\">\r\n                <p className=\"label\">Occurrences</p>\r\n                <span className=\"stat-value\">{selectedIssue.occurrences}</span>\r\n              </div>\r\n              <div className=\"drawer-card\">\r\n                <p className=\"label\">Affected Users</p>\r\n                <span>{selectedIssue.affectedUsers.join(', ') || '‚Äî'}</span>\r\n              </div>\r\n              <div className=\"drawer-card\">\r\n                <p className=\"label\">Affected Systems</p>\r\n                <span>{selectedIssue.affectedSystems.join(', ') || '‚Äî'}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"drawer-section\">\r\n              <p className=\"label\">Root Cause</p>\r\n              <p>{selectedIssue.rootCause || 'Not provided'}</p>\r\n            </div>\r\n\r\n            <div className=\"drawer-section\">\r\n              <p className=\"label\">Recommended Fix</p>\r\n              <p>{selectedIssue.solution || 'Not provided'}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}